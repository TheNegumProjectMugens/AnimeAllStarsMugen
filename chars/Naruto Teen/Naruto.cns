;-------------------------------------------------------------------------------
; variable 10 poder de rasengan comun
; variable 13 poder de choque contra kamehameha
;-------------------------------------------------------------------------------
; variable 15 valor de choque de ataques
; rasengan 30
; super rasengan 40
; kiuby rasengan 70(naruto) 40(bola)
; futon rasen shiuriken 100
; odama rasengan 50
;-------------------------------------------------------------------------------

[Data]
life= 1000
power = 5000
attack=100
defence=110
fall.defence_up=50
liedown.time=60
airjuggle=15
sparkno=2
guard.sparkno=40
KO.echo=0
volume=0
IntPersistIndex=60
FloatPersistIndex=40

[Size]
xscale=1
yscale=1
ground.back=10
ground.front=10
air.back=10
air.front=10
height=60
attack.dist=160
proj.attack.dist=90
proj.doscale=0
head.pos=-5,-90
mid.pos=-5,-60
shadowoffset=0
draw.offset=0,0

[Velocity]
walk.fwd= 3.5
walk.back= -3.5
run.fwd= 5,0
run.back= -4.5,-3.8
jump.neu= 0,-8.4
jump.back= -2.5
jump.fwd= 2.5
runjump.back= -2.55,-8.1
runjump.fwd= 4,-8.1
airjump.neu= 0,-8.1
airjump.back= -2.55
airjump.fwd= 2.5

[Movement]
airjump.num=1
airjump.height=35
yaccel=.44
stand.friction=.85
crouch.friction=.82

[Statedef 170]
type=S
ctrl=0
anim=170
velset=0,0

[State 170,1]
type=NotHitBy
trigger1=1
value=SCA
time=1

;===============================================================================
; Win state decider
;===============================================================================
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
triggerall = var(0) = 0
trigger1 = life > 500
value = 182

[State 180, 1]
type = ChangeState
triggerall = var(0) = 2
trigger1 = life > 500
value = 181

[State 180, 1]
type = ChangeState
triggerall = var(0) = 1
trigger1 = life > 500
value = 183

[State 180, 1]
type = ChangeState
triggerall = var(0) = 1
trigger1 = life < 500
value = 184

[State 180, 1]
type = ChangeState
trigger1 = var(0) = 3
value = 185

;===============================================================================
; Win pose 1
;===============================================================================

[Statedef 181]
type=S
ctrl=0
velset=0,0

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 2
trigger1=!Time
trigger1 = Anim != 191
value = 191

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 14
value = 1,23

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= 300
flag = roundnotover

[State 181,NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
time=1

;===============================================================================
; Win pose 2
;===============================================================================
[Statedef 182]
type=S
ctrl=0
velset=0,0

 [State 0, PalFXWiz]
type = PalFX
triggerall = var(0) = 0
trigger1 = time = 78
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
triggerall = var(0) = 0
trigger1 = time = 78
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 3195, Explod]
type = Explod
triggerall = var(0) = 0
trigger1 = time = 73
anim = 4021
ID = 363543
pos = 0,5
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
sprpriority=-1
scale = .25,.25
ownpal = 0
removeongethit = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= 300
flag = roundnotover

[State 181,ChangeAnim]
type=ChangeAnim
triggerall = var(0) = 0
trigger1=!Time
value=2150

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 13
value = S6,67
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 13
value = S6,68
channel = -1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 13
anim = 9015
ID = 9015
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .6,.6
ontop = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

;===============================================================================
; Win pose 3
;===============================================================================
[Statedef 183]
type=S
ctrl=0
velset=0,0

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 2100
value = 2100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= 300
flag = roundnotover

[State 181, PlaySnd]
type = PlaySnd
triggerall = var(0) = 1
trigger1 = !time
value = 181,0

[State 181,NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
time=1

;===============================================================================
; Win pose 4
;===============================================================================
[Statedef 184]
type=S
ctrl=0
velset=0,0

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 2101
value = 2101

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= 300
flag = roundnotover

[State 181, PlaySnd]
type = PlaySnd
triggerall = var(0) = 1
trigger1 = !time
value = 181,0

[State 181,NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
time=1

;===============================================================================
; Win pose 5
;===============================================================================
[Statedef 185]
type=S
ctrl=0
velset=0,0

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 3
trigger1=!Time
trigger1 = Anim != 19001
value = 19001

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= 300
flag = roundnotover

[State 181, PlaySnd]
type = PlaySnd
triggerall = var(0) = 3
trigger1 = !time
value = 1,22

[State 181,NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
time=1
;===============================================================================
[Statedef 190]
type = S

[State 0, ChangeState]
type = ChangeState
trigger1 = random = [0,333]
trigger1 = !time
value = 191
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = random = [0,666]
trigger1 = !time
value = 192
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = random = [0,999]
trigger1 = !time
value = 193
ctrl = 1
;===============================================================================
[Statedef 191]
type = S
movetype = I
physics = S
anim = 193
sprpriority = 1
ctrl = 0

[State 200, Explod]
type = Explod
trigger1 = animelem = 1
anim = 243443
removetime = -2
removeongethit = 0
bindtime = 1
scale = .5,.5
sprpriority = 3
pos = 0,-25
ontop = 1
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 12
anim = 356499
ID = 6195
pos = 0,2
postype = p1
removetime = -2
scale = 0.25,0.25
ontop = 1
pausemovetime = 9999
supermovetime = 9999
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 52
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = time = 52
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 52
value = 9,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 2
value = S0,9
volume = 9999999999999999999999990
channel = -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 2
value = S3,3
volume = 9999999999999999999999990
channel = -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 1
value = S5,7
volume = 9999999999999999999999990
channel = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro


[State 2022, end]
type = ChangeState
trigger1 = time = 80
value = 0

;===============================================================================
[Statedef 192]
type = S
movetype = I
physics = S
anim = 192
sprpriority = 1
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 1,19

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 1038
ID = 6081
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 100, dust Effect]
type = Explod
trigger1 = time = 30
anim = 356490
ID = -1
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
scale = 0.5,0.5
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = 1,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = 1,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S1,24
volume = 0
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 95
anim = 17000
ID = 6195
pos = 0,-20
postype = p1
removetime = -2
scale = 0.2,0.4
ontop = 1
pausemovetime = 9999
supermovetime = 9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 95
value = 12,16


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 30
time = 30
freq = 120
ampl = -5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 98
value = 1,22

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 191, 1]
type = ChangeState
trigger1 = Time = 122
value = 0

;----------------------------------
;===============================================================================
[Statedef 193]
type = S
movetype = I
physics = S
anim = 190
sprpriority = 1
ctrl = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 5
value = 0,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 7
value = 0,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 8
value = S0,12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro


[State 2022, end]
type = ChangeState
trigger1 = time = 100
value = 0
;----------------------------------


;-------
;Sage trasform
[Statedef 29999]
type    = S
movetype= A
physics = S
ctrl = 0
juggle = 4
anim = 29999
velset = 0,0
sprpriority = 2

[State 826, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S6,4
volume = 1000

[State 832, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S1,19
volume = 1000

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 229
ID = 229
pos = 0,0
postype = p1
removetime = -1
bindtime = -1
removeongethit = 1
scale = 0.25,0.25
ontop = 0
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 6026
ID = 6026
pos = 2,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = command = "hold_s"
trigger1 = time > 15
trigger1 = timemod = 42,0
anim = 6027
ID = 6027
pos = 4,-28
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.4,0.4
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
trigger1 = time >= 40
value = 1,25
volume = 100

[State 0, ModifyExplod]
type = ModifyExplod
Trigger1 = 1
ID = 6027
Scale =.1+((Time/88.0)*.22),.1+((Time/88.0)*.22)
IgnoreHitPause = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_s"
id = 6027

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_s"
id = 229

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_s"
id = 6026


[State 0, Explod]
type = Explod
triggerall = gametime%5
trigger1 = time = 200
anim = 6030
ID = 6030
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 197, 5]
type = ChangeState
trigger1 = command != "hold_s"
;trigger1 = time < 100
value = 196
ctrl = 1

[State 0, Helper]
type = Helper
trigger1 = timemod = 8,0 && time < (200*var(6)/2)
helpertype = normal ;player
name = "ball"
ID = 29998
stateno = 29998
pos = 8,-35
size.xscale = 0.8
size.yscale = 0.8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 3
range = 0,19


[State 0, PowerAdd]
type = PowerAdd
trigger1 = time < (450*var(6)/2)
value = 2*4/var(6)

[State 0, PowerAdd]
type = PowerSet
trigger1 = time = 200
value = 5000

[State 1400, VarSet]
type = VarSet
trigger1 = time = 200
var(0) = 2

;[State 0, ChangeAnim]
;type = ChangeAnim
;trigger1 = time = (300*var(6)/2)
;value = 30300
;elem = 2

[State 197, 5]
type = ChangeState
trigger1 = command = "hold_s"
trigger1 = time > 200
value = 198
ctrl = 1

;---------------------------------------------------------------------------
;Sage End
[StateDef 30400]
type = S
movetype = I
physics = S
ctrl  = 0
anim = 30300
velset = 0,0

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 13
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = time = 13
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 1400, VarSet]
type = VarSet
trigger1 = time = 14
var(0) = 0

[State 0, ]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl  = 1

;-------------------------------------------------------------------------------
[Statedef 8005]
type = S
movetype = I
physics = S
anim = 8005
ctrl  = 0
poweradd = 0
juggle = 0
facep2 = 1
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 0


[State 5679: VelSet]
type = VelSet
trigger1 = (!Time)
x = 15
y = 0

[State 8005:    PlayerPush]
type  = PlayerPush
trigger1  = (1)
value = 1

[State 8005:    NotHitBy]
type = NotHitBy
trigger1  = (1)
time  = 1
value  = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT

[State 8005: DestroySelf]
type = DestroySelf
trigger1  = (Time = 20)
;----------------------------------------------------------------------
[Statedef 195]
type    = S
movetype= I
physics = S
juggle  = 5
ctrl = 0
anim = 8000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S17,0
volume = 256
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S16,1
volume = 256
channel = -1

[State 0, StopSnd]
type = StopSnd
trigger1 = !command = "hold_z"
channel = -1

[State 0, 0]
type = PlaySnd
trigger1 =((GameTime%100) = 0)
value = S18,1
channel = -1


[State 0, Chakra Charge PalFx]
type = PalFX
trigger1 = time = 1
time = 10
add = 0,120,256
mul = 192,192,256
sinadd = 100,100,100,7

[State 0, Helper]
type = Helper
trigger1 = !time
helpertype = normal
name = "Chakra"
ID = 194
stateno = 194
pos = 0,0
postype = p1
facing = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 111
ampl = -1
phase = 33

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 0
value = 0.3*time/5

[State 440, 5]
type = ChangeState
trigger1 = command != "hold_z"
value = 196
ctrl = 1

[State 440, 5]
type = ChangeState
triggerall = var(5) != 2
trigger1 = command = "hold_z"
trigger1 = power >=3000
value = 197
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 194]
type = S
movetype = I
physics = S
sprpriority = 2
anim = 6028
velset = 0,0
ctrl = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0

[State 0, Explod]
type = Explod
triggerall = var(0)=0
trigger1 = time = 0
anim = 3021
ID = 6024
pos = 0,-20
postype = p1
bindtime = -1
removetime = -1
supermovetime = 1000
pausemovetime = 1000
scale = 1,1
sprpriority = 2000
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(0)=0
trigger1 = numexplod(3022)=0
anim = 3022
ID = 6024
pos = 0,-20
postype = p1
bindtime = -1
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = -5
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(0)=0
trigger1 = numexplod(30222)=0
anim = 30222
ID = 6024
pos = 0,-20
postype = p1
bindtime = -1
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .75,.75
sprpriority = -20
ownpal = 1
removeongethit = 1




[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time <= 16
ID = 6024
trans = addalpha
alpha = time*16,256

[State 0, VarAdd]
type = VarAdd
trigger1 = var(7) != 0
trigger2 = var(7) = 0
trigger2 = parent,stateno != 195
v = 7
value = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = var(7) != 0
ID = 6024
trans = addalpha
alpha = 256-var(7)*16,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(7) = 16
id = 6024

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(7) = 16
;-------------------------------------------------------------------------------
[Statedef 196]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 8001
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S12,0
volume = 0
channel = -1


[State 440, 5]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 197]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 8002
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S16,0
volume = 256
channel = -1

[State 0, 0]
type = PlaySnd
trigger1 =((GameTime%100) = 0)
value = S18,0
channel = -1

[State 0, StopSnd]
type = StopSnd
trigger1 = !command = "hold_z"
channel = -1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 6026
ID = 6026
pos = 2,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = command = "hold_z"
trigger1 = time > 15
trigger1 = timemod = 42,0
anim = 6027
ID = 6027
pos = 4,-28
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.4,0.4
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, ModifyExplod]
type = ModifyExplod
Trigger1 = 1
ID = 6027
Scale =.1+((Time/88.0)*.22),.1+((Time/88.0)*.22)
IgnoreHitPause = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_z"
id = 6027

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_z"
id = 6026


[State 197, 5]
type = ChangeState
trigger1 = command != "hold_z"
;trigger1 = time < 100
value = 196
ctrl = 1

[State 0, Explod]
type = Explod
triggerall = gametime%5
trigger1 = time = 240
anim = 6030
ID = 6030
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 235
value = S19,0
volume = 256
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 45
freq = 90
ampl = -1
phase = 30


[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0: 645]
type  = Helper
trigger1 = (time > 170)
trigger1 = (TimeMod = 10,0)
helpertype = normal
name = "Sage-Mode-Power"
id = 8005
pos = 0,0
postype = p1
facing = 1
stateno = 8005
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1.3
size.yscale = 1.3


[State 197, 5]
type = ChangeState
trigger1 = command = "hold_z"
trigger1 = time > 240
value = 198
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 198]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 16000
sprpriority = 2

[State 0, Pause]
type = Pause
trigger1 = time = 1
time = 118
movetime = 118

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 110

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = nobardisplay
flag2 = nomusic
flag3 = unguardable


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6031
ID = 6031
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = 50
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1


[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 6029
ID = 6029
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 845, PlaySnd]
type = PlaySnd
trigger1 = Time = 50
value = S8,0
volume = 400

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 50
id = 229


[State 440, 5]
type = ChangeState
trigger1 = time = 55
value = 0
ctrl = 1
;----------------------------------------------------------------------
[Statedef 200]
type=S
movetype=A
physics=S
juggle=1
velset=2,0
ctrl=0
poweradd=30
sprpriority=2

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 200
value = 200

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1200
value = 1200

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2,6
volume = 0
channel = -1

[State 200,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Light
damage=10
guardflag=MA
hitflag=MAF
priority=1,Hit
pausetime=12,12
sparkno=s9998
sparkxy=-5,-25
hitsound=S5,0
guardsound=S6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2
air.velocity=-2,-3

[State 200,PlaySnd]
type=PlaySnd
trigger1=Time=1
value=0,0

[State 200,ChangeState2]
type=ChangeState
trigger1= AnimTime = 0
value=0
ctrl=1

[Statedef 210]
type=S
movetype=A
physics=S
juggle=1
poweradd=75
ctrl=0
velset=2,0
sprpriority=3

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 210
value = 210

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1210
value = 1210

[State 210,PlaySnd]
type=PlaySnd
trigger1=Time=2
value=0,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2,7
volume = 0
channel = -1

[State 210,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Medium
damage=10
guardflag=MA
pausetime=12,10
sparkno=s9998
sparkxy=-5,-17
hitsound=s5,1
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2.0
air.velocity=-2,-3

[State 210,ChangeState2]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

[Statedef 220]
type=S
movetype=A
physics=S
juggle=1
poweradd=75
ctrl=0
velset=2,0
sprpriority=3

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 220
value = 220

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1220
value = 1220

[State 220,PlaySnd]
type=PlaySnd
trigger1=Time=2
value=0,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2,8
volume = 0
channel = -1

[State 220,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype= up
damage=10
guardflag=MA
pausetime=12,10
sparkno=s9998
sparkxy=-5,-17
hitsound=s5,2
guardsound=s6,0
ground.type=High
ground.slidetime=60
ground.hittime=60
ground.velocity=-1,0
air.velocity=-1,0

[State 220,ChangeState2]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;-------------------------------------------------------------------------------
; combo de kunais

[Statedef 300]
type=S
movetype=A
physics=S
juggle=1
velset=2,0
ctrl=0
poweradd=70
sprpriority=2

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 300
value = 300

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1301
value = 1311

[State 200,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Light
damage=15
guardflag=MA
hitflag=MAF
priority=1,Hit
pausetime=12,12
sparkno=s3023
sparkxy=-5,-17
hitsound=s12,12
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2
air.velocity=-2,-3

[State 200,PlaySnd]
type=PlaySnd
trigger1=Time=1
value=0,0

[State 200,ChangeState2]
type=ChangeState
trigger1= AnimTime = 0
value=0
ctrl=1

[Statedef 310]
type=S
movetype=A
physics=S
juggle=1
poweradd=75
ctrl=0
velset=2,0
sprpriority=3

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 310
value = 310

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1312
value = 1312

[State 210,PlaySnd]
type=PlaySnd
trigger1=Time=2
value=0,4

[State 210,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Medium
damage=15
guardflag=MA
pausetime=12,10
sparkno=s3023
sparkxy=-5,-17
hitsound=s12,12
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2.0
air.velocity=-2,-3

[State 210,ChangeState2]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

[Statedef 320]
type=S
movetype=A
physics=S
juggle=1
poweradd=75
ctrl=0
velset=2,0
sprpriority=3

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 320
value = 320

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem=2
x = 3

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1320
value = 1320

[State 220,PlaySnd]
type=PlaySnd
trigger1=Time=2
value=0,4

[State 220,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype= up
damage= 20
guardflag=MA
pausetime=12,10
sparkno=s3023
sparkxy=-5,-17
hitsound=s12,12
guardsound=s6,0
ground.type=High
ground.slidetime=60
ground.hittime=60
ground.velocity=-3,-10
air.velocity=-3,-10
fall = 1

[State 220,ChangeState2]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;-------------------------------------------------------------------------------
;---------------------------------------------------------------------------
[Statedef 350]
type    = S
movetype= I
physics = S
sprpriority = 4
poweradd = 0
ctrl = 0
velset = 0,0

[State 0, 1]
type = ChangeAnim
triggerall =  var(0) = 2
trigger1=!Time
trigger1 = Anim != 10300
value = 10300

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1700
value = 1700

[State 883, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,15
volume = 1000

[State 883, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 13
value = S1,11
volume = 1000

[State 883, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 15
value = S6,11
volume = 1000

[State 883, Explod]
type = Explod
trigger1 = Time = 75
anim = 17000
ID = 196
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = .8,.8
sprpriority = 3
ontop = 0
ownpal = 1

[State 883, PlaySnd]
type = PlaySnd
trigger1 = time = 78
value = S1,5
volume = 800

[State 883, Helper]
type = Helper
trigger1 = Time = 80
helpertype = normal
name = "Gama3"
ID = 351
stateno = 351
pos = 0,0
postype = p1
facing = 1
ownpal = 1

[State 883, ChangeState]
type = ChangeState
trigger1 = Time = 150
value = 0
ctrl = 1


;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
[Statedef 351]
type    = S
movetype= A
physics = S
sprpriority = 0
poweradd = 0
ctrl = 0
velset = 0,0
anim = 420

[State 884, EnvShake]
type = EnvShake
trigger1 = AnimElem = 2
time = 10
freq = 25
ampl = -2
phase = 90

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Katon:Dain-Endan"
ID = 352
stateno = 352
pos = 73,-45
postype = p1
facing = 1

[State 883, Explod]
type = Explod
trigger1 = Time = 145
anim = 17000
ID = 196
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = .8,.8
sprpriority = 3
ontop = 0
ownpal = 1

[State 883, PlaySnd]
type = PlaySnd
trigger1 = time = 149
value = S1,5
volume = 800

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 151

;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
[Statedef 352]
type = S
movetype = A
physics = S
anim = 350
sprpriority = 3
velset = 0,0
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S5,8
volume = 0
channel = -1


[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 22
freq = 111
ampl = -3
phase = 34

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag = globalnoshadow



[State 0, VelSet]
type = VelSet
trigger1 = time <= 20
x = 0.014*p2bodydist x

[State 0, VelSet]
type = VelSet
trigger1 = time > 20
x = 3


[State 0, HitDef]
type = HitDef
trigger1 = movehit != [1,3]
attr = S,NA
hitflag = MAFD
guardflag = HL
ground.type = Low
air.type = Low
damage = 8,4
pausetime = 3,3
ground.velocity = -6+p2dist x/12,-3
air.velocity = -6+p2dist x/12,-1
sparkno = -1
p1sprpriority = 3
fall = 1
fall.recover = 0
id = 301
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 25
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5

[State 0, Explod]
type = Explod
trigger1 = time % 9 = 0
trigger1 = pos y > -50
anim = 351
ID = 351
pos = 30,ceil(-pos y)+5
postype = p1
removetime = -2
scale = 0.9,0.5
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time % 9 = 0
value = S5,9
volume = 0
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time % 55 = 0
trigger1 = pos y > -50
anim = 3351
ID = 3351
pos = -20,ceil(-pos y)+5
postype = p1
removetime = -2
scale = 0.9,0.5
sprpriority = 6

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
trigger1 = p2dist x < 10
time = 1
pos = p2dist x+10,0

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = movehit = 4

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 353
time = -1
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 80 || hitcount >= 10
value = 353
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 353]
type = S
movetype = A
physics = S
sprpriority = 4
velset = 0,0
anim = 352
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S5,10
volume = 200
channel = -1


[State 0, EnvColor]
type = EnvColor
trigger1 = time = 1
value = 255,255,255
time = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 22
freq = 111
ampl = -4
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag = globalnoshadow

[State 0, HitDef]
type = HitDef
trigger1 = time < 3
affectteam = B
attr = S,NP
hitflag = MAF
guardflag = HL
ground.type = Low
air.type = Low
damage = 150,30
pausetime = 3,3
ground.velocity = -5,-10
air.velocity = -5,-10
p1sprpriority = 3
sparkno = S352
fall = 1
fall.recover = 0
palfx.time = 75
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime

;-------------------------------------------------------------------------------
; combo de patadas
[Statedef 230]
type=S
movetype=A
physics=S
juggle=4
poweradd=32
ctrl=0
velset=4,0
sprpriority=2

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 230
value = 230

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim !=1230
value = 1230

[State 230,1]
type=PlaySnd
trigger1=Time=2
value=0,1

[State 230,HitDef]
type=HitDef
trigger1=!Time
attr=S,NA
animtype= up
damage= 10
guardflag=MA
pausetime=12,10
sparkno=s9998
sparkxy=-8,-17
hitsound=s5,3
guardsound=s6,0
ground.type=Low
ground.slidetime=13
ground.hittime=18
ground.velocity=-2
air.velocity=-2.5,-3.5

[State 230,3]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

[Statedef 240]
type=S
movetype=A
physics=S
juggle=4
poweradd=75
ctrl=0
velset=4,0
sprpriority=2

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 240
value = 240

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1210
value = 1210

[State 0, Explod]
type = Explod
trigger1 = time = 12
anim = 2411122
ID = 229
pos = -25,10
postype = p1
removetime = -2
bindtime = 1
removeongethit = 1
scale = 0.15,0.15
ontop = 1
supermove = -1
ownpal = -1

[State 240,1]
type=PlaySnd
trigger1=Time=2
value=0,1

[State 240,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Medium
damage=10
guardflag=MA
pausetime=12,10
sparkno=s9998
sparkxy=-10,-25
hitsound=s5,4
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2.0
air.velocity=-2.5,-4

[State 240,4]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

[Statedef 250]
type=S
movetype=A
physics=S
juggle= 4
poweradd=75
ctrl=0
velset=4,0
sprpriority=2

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 250
value = 250

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1250
value = 1250

[State 250,1]
type=PlaySnd
trigger1=Time=2
value=0,1

[State 250,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Medium
damage=10
guardflag=MA
pausetime=12,10
sparkno=s9998
sparkxy=-10,-30
hitsound=s5,5
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-1.5,-3.5
air.velocity=-1.5,-3.5

[State 250,4]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

[Statedef 260]
type=S
movetype=A
physics=S
juggle=1
poweradd=75
ctrl=0
velset=2,0
sprpriority=2

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 260
value = 260

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1230
value = 1230

[State 270,HitDef]
type=HitDef
trigger1=animelem=1
attr=S,NA
animtype= up
damage=20
guardflag=MA
pausetime=12,10
sparkno=s9998
sparkxy=-5,-40
hitsound=s5,6
guardsound=s6,0
ground.type=High
ground.slidetime=12
ground.hittime=13
ground.velocity=-2,-10
air.velocity=-2,-10
fall = 1

[State 270,4]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

[Statedef 270]
type=S
movetype=A
physics=S
juggle=4
poweradd=75
ctrl=0
velset=4,0
sprpriority=2

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0 || var(0) = 2
trigger1=!Time
trigger1 = Anim != 270
value = 270

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 1200
value = 1200

[State 240,1]
type=PlaySnd
trigger1=Time=2
value=0,1

[State 240,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype= diagup ;back,up,diagup
damage=10
guardflag=MA
pausetime=12,10
sparkno=s9998
sparkxy=-10,-20
hitsound=s5,4
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2.0
air.velocity=-2.5,-4

[State 240,4]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

[Statedef 280]
type=S
movetype=A
physics=N
juggle=4
poweradd=75
ctrl=0
velset=3,0
sprpriority=2

[State 240,ChangeAnim]
type=ChangeAnim
trigger1=!Time
value= 640

[State 240,1]
type=PlaySnd
trigger1=Time=2
value=0,1

[State 240,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,NA
animtype=Medium
damage=40
guardflag=MA
pausetime=12,10
sparkno=s9998
sparkxy=-10,-20
hitsound=s5,4
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity=-2.0
air.velocity=-2.5,-4
fall = 1

[State 240,4]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1
;-------------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Bunshin Bomb
[StateDef 506]
type = S
movetype = A
physics = S
juggle = 0
anim = 701
ctrl = 0
poweradd = -50

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 17000
postype = p1
scale =.2,.4
pos = 34,-20
postype = p1
supermovetime = 1000
pausemovetime = 1000
sprpriority = 1000
ownpal = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 =  Animelem = 3
value = 12,16
volume = 0
channel = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, Helper]
type = Helper
trigger1 = Animelem = 4
id = 111
pos = 24,-17
postype = p1
stateno = 507
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 1

[State 0, end]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Bunshin Bomb (Bunshin)
[StateDef 507]
type = S
movetype = A
physics = S
juggle = 0
anim = 406
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = time = 25
anim = 17000
postype = p1
scale =.2,.4
pos = 0,-10
postype = p1
supermovetime = 1000
pausemovetime = 1000
sprpriority = 1000
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = 12,16
volume = 0
channel = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
attr = S, NA
damage = 7,4
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 4
sparkno = s704 + random%3
sparkxy = -10, -4
hitsound = s2, 50
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6, -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6, -1
air.hittime = 12
fall = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, VelSet]
type = VelSet
trigger1 = Time > 0  && time < 15
x = 6
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = Time > 15
x = 6
y = 1

[State 0, end]
type = Destroyself
trigger1 = Time = 30

;-------------------------------------------------------------------------------
;---------------------------------------------
[StateDef 404]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 400
poweradd = -400
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4677511,0
volume = 99999999999999999999999999999999999999999999999999
channel = -1


[State 0, Explod]
type = Explod
trigger1 = time = 55
anim = 509
ID = 8030
pos = -20,-32
postype = p1
bindtime = -1
removetime = -1
scale = 1.2,1.2
sprpriority = 11
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 55
anim = 43229661
ID = 8030
pos = -25,-32
postype = p1
bindtime = -1
removetime = -1
scale = 1.2,1.2
sprpriority = 11
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 47
time = 5
freq = 70
ampl = -2
phase = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,2
volume = 9999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S1,551
volume = 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 47
trigger2 = time = 74
trigger3 = time = 100
trigger4 = time = 140
value = S122222,0
volume = 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 47
value = S345555,0
volume = 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
channel = 12

[State 300, end]
type = ChangeState
trigger1 = Time = 190
value = 405
ctrl = 1


[Statedef 405]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 405
poweradd = -900
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S4122111,0
volume = 99999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S222,9
volume = 99999999
channel = 45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S0,27
volume = 99999999
channel = -1

[State 3195, Explod]
type = Explod
trigger1 = animelem = 4
anim = 2411122
ID = 8030
pos = -21,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
facing = 1
removetime = 190
scale = .5,.5
ontop = 1
ownpal = 0
removeongethit = 1

[State 200, 1]
type = HitDef
triggerall = time = [10,198]
trigger1 = timemod = 7,0
attr = S, SA
damage = 38
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 14
sparkno = -1
sparkxy = -10, -26
hitsound = 55555551,1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
getpower = 0
envshake.TIME = 5
envshake.freq = 70
envshake.ampl = -6
envshake.phase = 70

[State 200, 1]
type = HitDef
trigger1 =  time = 199
attr = S, SA
damage = 38
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 14
sparkno = -1
sparkxy = -10, -26
hitsound = 55555551,1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
getpower = 0
p1stateno = 406
envshake.TIME = 5
envshake.freq = 70
envshake.ampl = -6
envshake.phase = 70

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 511
ID = 511
pos = -80,-39
postype = p1
bindtime = -1
removetime = 21
scale = .5,.5
sprpriority = 11
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 511
ID = 511
pos = -72,-46
postype = p1
bindtime = -1
removetime = 21
scale = .5,.5
sprpriority = 11
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 511
ID = 511
pos = -64,-42
postype = p1
bindtime = -1
removetime = 11
scale = .5,.5
sprpriority = 11
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S8,8
volume = 999
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S551,3
volume = 999
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,2
volume = 99
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S577777,0
volume = 99999999999999999999999999999999999999999999999999999999999
channel = -1
persistent = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable
flag2 = nokoslow

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 200
id = 8030
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8030
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
triggerall = numexplod(5235253) = 0
trigger1 = time = 50
anim = 511
ID = 8030
pos = 90,-39
postype = p1
bindtime = -1
removetime = 300
scale = .5,.5
sprpriority = 11
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1


[State 0, AfterImage ]
type = AfterImage
trigger1 = TIME = 1
time = 20
trans = add
timegap = 1
framegap = 4
length = 20
palbright = 30,30,30
palcontrast = 160,88,203
palpostbright = 0,0,0
paladd = 256,256,0
palmul = .65,.65,.75

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S0,4677511
volume = 99999999999999999999999999999999999999999999999999
channel = -1

[State 0, VelSet]
type = VelSet
triggerall = P2BodyDist x != [20,60]
trigger1 = time = [20,40]
x = 7

[State 200, 3]
type = ChangeState
trigger1 = time = 200
value = 198
ctrl = 1

[StateDef 198]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 197
poweradd = 20
sprpriority = 2

[State 3195, Explod]
type = Explod
trigger1 = animelem = 1
anim = 46553667
ID = 46553667
pos = 2,-35
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = .2,.4
ontop = 1
ownpal = 0
removeongethit = 1

[State 3195, Explod]
type = Explod
trigger1 = animelem = 1
anim = 66632229
ID = 66632229
pos = 0,-30
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = .4,.4
ontop = 1
ownpal = 0
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,2
volume = 9999999999999999999999999999999999999999999999
channel = -1


[State 181, ChangeAnim]
type = ChangeAnim
triggerall = var(10) = 1
trigger1 = Anim != 1197
value = 1197


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S41222,0
volume = 99999999999999999999999999999999
channel = -1



[State 3197, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Air Missile Bushin
[Statedef 410]
type    = A
movetype= A
physics = A
juggle  = 6
velset = 0,0
poweradd= -50
ctrl = 0

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 0
trigger1 = Anim != 410
value = 410

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 2
trigger1 = Anim != 410
value = 410


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 12,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = 12,16



[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 250,1
volume = 0
channel = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 17000
scale =.25,.5
pos = 10,10
postype = p1
facing = 1
sprpriority = 9

[State 410, Helper]
type = Helper
trigger1 = animelem = 3
id = 112
pos = 22,10
postype = p1
stateno = 420
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 2
x = -3
y = -5

;---------------------------------------------------------------------------
; Air Missile Bushin (Bushin part1)
[Statedef 420]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 80
ctrl = 0
anim = 520

[State 400, 1]
type = HitDef
trigger1 = AnimElem = 1 || animelem = 2
attr = S, NA
damage = 20,9
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = -1
hitsound = s5000, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6,0
air.hittime = 12
fall = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "Circle"
ID = 6200
stateno = 6200
pos = 0,-15
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 999
size.xscale = 0.2
size.yscale = 0.2

[State 0, VelSet]
type = VelSet
trigger1 = time > 0
x = 10
y = 10

[State 420, 5]
type = ChangeState
trigger1 = pos y >= -2
value = 430
ctrl = 1

;---------------------------------------------------------------------------
; Air Missile Bushin (Bushin part2)
[Statedef 430]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 50
velset = 0,0
ctrl = 0
anim = 430

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 1500,2
volume = 0
channel = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 17000
pos = 0,-2
postype = p1
scale = .2,.4
facing = 1
vfacing = 1
bindtime = 1
ontop=1
sprpriority = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 12,16

[State 430, 5]
type = Destroyself
trigger1 = Time = 25

[Statedef 501]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5000

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
;ignorehitpause =
;persistent =

[State 230, 5]
type = SelfState
trigger1 = time = 30
value = 5000
ctrl = 0


;---------------------------------------------
[StateDef 1310]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1310
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S41222,0
volume = 999999999999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S112,12
volume = 999999999999999999999999999999
channel = -1


[State 0, Helper]
type = Helper
trigger1 = time = 31
helpertype = normal ;player
name = "rikudo chacra hand"
ID = 313
stateno = 1313
pos = 5,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1

[State 300, end]
type = ChangeState
triggerall = P2BodyDist x = [0,80]
trigger1 = Time = 100
value = 1311
ctrl = 1

[State 300, end]
type = ChangeState
trigger1 = Time = 100
value = 0
ctrl = 1

;---------------------------------------------
[StateDef 1311]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1300
poweradd = -100
sprpriority = 2

[State 60, Arena Grande atras]
type = Explod
trigger1 = time = 10
anim = 229
ID =  229
pos = -5,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 200
supermove = 1
pausemove =1
scale = 0.25, 0.3
ontop = 0
shadow = 0,0,0
ownpal = -1
removeongethit = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 228
ID = 229
pos = 0,2
postype = p1
removetime = 200
bindtime = -1
removeongethit = 1
scale = 0.25,0.25
ontop = 0
supermove = -1
ownpal = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 66
time = 5
freq = 70
ampl = -2
phase = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S3,0
volume = 9999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S0,12
volume = 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 74
trigger2 = time = 100
trigger3 = time = 140
trigger4 = time = 180
value = S122222,0
volume = 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 74
anim = 5235263
ID = 32599
pos = -15,-30
postype = p1
bindtime = -1
removetime = 126
scale = .2,.2
sprpriority = 11
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1


[State 0, Explod]
type = Explod
trigger1 = time = 74
anim = 1031
ID = 666322
pos = 0,7
postype = p1
bindtime = -1
removetime = 126
scale = .8,.8
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1


[State 300, end]
type = ChangeState
trigger1 = Time = 200
value = 1312
ctrl = 1

[StateDef 1312]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1301
poweradd = -100
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S14,2
volume = 99
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,551
volume = 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,551
volume = 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
channel = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 15
value = 40


[State 1303, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = player
name = "rasengan"
ID = 6663443
stateno = 6663443
pos = 0,-10
postype = p2
facing = -1
keyctrl = 0
ontop=1
size.yscale = .5
size.xscale = .5

[State 300, end]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1


;--------------------------------------------------------------------------
;------------------------------------------------------------------------
[StateDef 6663443]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6663443
poweradd = 0
sprpriority = 10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = S122222,0
volume = 99999999999999
channel = 1

[State 0, Explod]
type = Explod
triggerall = pos y >= -50
trigger1 = TimeMod = 15,0
anim = 1038
pos = 0,50
postype = p1
scale = .7,.7
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 11
trigger2 = time = 22
trigger3 = time = 33
trigger4 = time = 44
trigger5 = time = 55
trigger6 = time = 66
trigger7 = time = 77
anim = 243443
ID = 243443
pos = -0,-22
postype = p1  ;p2,front,back,left,right
facing = 1
RANDOM = 155,115
vel = -5,-10
vfacing = 1
bindtime = 1
SprPriority = 1
removetime = 50
scale = 0.055,0.055
ontop = 0
OWNPAL = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 11
trigger2 = time = 22
trigger3 = time = 33
trigger4 = time = 44
trigger5 = time = 55
trigger6 = time = 66
trigger7 = time = 77
anim = 26222
ID = 26222
pos = -0,-22
postype = p1  ;p2,front,back,left,right
facing = 1
RANDOM = 155,115
vel = -5,-10
vfacing = 1
bindtime = 1
SprPriority = 1
removetime = 50
scale = 0.075,0.075
ontop = 0
OWNPAL = 0
removeongethit = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -40


[State 0, ]
type = Explod
trigger1 = time = 0
anim = 2010  ;422311
ID = 422311
postype = p1
pos = -10,45
scale = 0.5,0.5
bindtime = 84
sprpriority = 1
ownpal = 0
ontop = 1
removetime = 100
supermovetime = 49

[State 7503, TargetBind]
type = TargetBind
trigger1 = time >= 1
time = -1
id = -1
pos = 15,0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 30
x = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
attr = S, SA
damage = 8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 14
sparkno = -1
sparkxy = -10, -26
hitsound = S14,3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
getpower = 0

[State 106, 3]
type = MakeDust
trigger1 = Time >=30
pos = -5, 45
spacing = 1

[State 7503, DestroySelf]
type = DestroySelf
trigger1 = time = 100


;-------------------------------------------------------------------------
[StateDef 1313]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 312
poweradd = -100
sprpriority = -2

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 4,-10
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,0
volume = 999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0
volume = 999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S0,27
volume = 999999999
channel = -1


[State 3000, 1]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
attr = S, NA
damage = 50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,30
sparkno = s5212212
sparkxy = -12, -12
hitsound = s0,9
guardsound = 555, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
p2stateno = 314
getpower = 0

[State 3000, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,30
sparkno = 3456345
sparkxy = -12, -12
hitsound = 5555,2
guardsound = 555, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
p2stateno = 314
getpower = 0

[State 3000, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,30
sparkno = s3456345
sparkxy = -12, -12
hitsound = s8,2
guardsound = 555, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
p2stateno = 314
getpower = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4
time = 10
id = -1
pos = 110,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5
time = 10
id = -1
pos = 110,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6
time = 70
id = -1
pos = 90,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7
time = 70
id = -1
pos = 60,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 8
time = 70
id = -1
pos = 30,0

[State 3000, end]
type = destroyself
trigger1 = Time = 250

[State 3000, end]
type = destroyself
triggerall = animtime = 0
trigger1 = p2stateno != 314

[State 3000, end]
type = destroyself
trigger1 = stateno = [5000,5999]




;-------------------------------------------------------------------------------
[Statedef 314]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5000

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
;ignorehitpause =
;persistent =

[State 230, 5]
type = SelfState
trigger1 = time = 270
value = 5100
ctrl = 0

;-------------------------------------------------------------------------------
; golpes aereos

[Statedef 600]
type=A
movetype=A
physics=A
poweradd=21
ctrl=0
sprpriority=2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck


[State 0, VelSet]
type = VelSet
trigger1 = movecontact
trigger1 = prevstateno = 610
x = 0
y = -3
persistent = 0

[State 600,ChangeAnim]
type=ChangeAnim
trigger1=!Time
value=600

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 601
value = 601

[State 600,1]
type=PlaySnd
trigger1=Time=1
value=0,0

[State 600,HitDef]
type=HitDef
trigger1=!Time
attr= S,NA
damage=10
hitflag = MADF+
guardflag=HA
priority=4
pausetime=12,10
sparkno=s9998
sparkxy=-5,-10
hitsound=s5,0
guardsound=s6,0
animtype=Med
ground.type=High
ground.slidetime=17
ground.hittime=17
ground.velocity=-2
air.velocity=-2,0











; golpe final
[Statedef 601]
type=A
movetype=A
physics=A
poweradd=70
ctrl=0
sprpriority=2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
x = -1
y = -2
persistent = 0

[State 600,ChangeAnim]
type=ChangeAnim
trigger1=!Time
value=600

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 601
value = 601

[State 600,1]
type=PlaySnd
trigger1=Time=1
value=0,0

[State 600,HitDef]
type=HitDef
trigger1=!Time
attr= S,NA
damage= 30
hitflag = MADF+
guardflag=HA
priority=4
pausetime=12,10
sparkno=s9998
sparkxy=-5,-10
hitsound=s5,0
guardsound=s6,0
animtype=Med
ground.type=High
ground.slidetime=17
ground.hittime=17
ground.velocity= -2,10
air.velocity= -2,10
fall = 1













[Statedef 610]
type=A
movetype=A
physics=A
poweradd=75
ctrl=0
anim=630
sprpriority=2

[State 610,2]
type=PlaySnd
trigger1=Time=2
value=0,1

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 633
value = 633


[State 610,HitDef]
type=HitDef
trigger1=!Time
attr= S,NA
damage=10
hitflag = MADF+
guardflag=HA
priority=4
pausetime=12,10
sparkno=s9998
sparkxy=-5,-10
hitsound=s5,1
guardsound=s6,0
animtype=Med
ground.type=High
ground.slidetime=17
ground.hittime=17
ground.velocity=-2
air.velocity=-2,-1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "a"
value = 600

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "x"
value = 600

;-------------------------------------------------------------------------------
; patadas aereas
[Statedef 630]
type=A
movetype=A
physics=A
poweradd=70
ctrl=0
sprpriority=2

[State 630,ChangeAnim]
type=ChangeAnim
trigger1=!Time
value=270

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 271
value = 271

[State 630,1]
type=PlaySnd
trigger1=Time=1
value=0,0

[State 630,HitDef]
type=HitDef
trigger1=!Time
attr= S,NA
damage=10
guardflag=HA
priority=3
pausetime=12,10
sparkno=s9998
sparkxy=-5,-17
hitsound=s5,3
guardsound=s6,0
ground.type=High
ground.slidetime=6
ground.hittime=6
ground.velocity=-2
air.velocity=-2,-1

[State 630, ChangeState]
type = ChangeState
trigger1 = time = 16
value = 50
ctrl = 1


[Statedef 631]
type=A
movetype=A
physics=A
poweradd=70
ctrl=0
sprpriority=2

[State 630,ChangeAnim]
type=ChangeAnim
trigger1=!Time
value=270

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 271
value = 271

[State 630,1]
type=PlaySnd
trigger1=Time=1
value=0,0

[State 630,HitDef]
type=HitDef
trigger1=!Time
attr= S,NA
damage=10
guardflag=HA
priority=3
pausetime=12,10
sparkno=s9998
sparkxy=-5,-17
hitsound=s5,3
guardsound=s6,0
ground.type=High
ground.slidetime=6
ground.hittime=6
ground.velocity=-2
air.velocity=-2,-1

[Statedef 640]
type=A
movetype=A
physics=A
poweradd=75
ctrl=0
sprpriority=2

[State 640,ChangeAnim]
type=ChangeAnim
trigger1=!Time
value=631

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1=!Time
trigger1 = Anim != 632
value = 632

[State 640,2]
type=PlaySnd
trigger1=Time=2
value=0,1

[State 630,HitDef]
type=HitDef
trigger1=!Time
attr= S,NA
damage=10
guardflag=HA
priority=3
pausetime=12,10
sparkno=s9998
sparkxy=-10,0
hitsound=s5,4
guardsound=s6,0
ground.type=High
ground.slidetime=6
ground.hittime=6
ground.velocity=-2
air.velocity=-2,-3

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
trigger1 = command = "a"
x = 6
y = -3

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "a"
value = 610

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
trigger1 = command = "x"
x = 6
y = -3

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "x"
value = 610

;--------------------------------------
;---------------------------------------------------------------------------
[Statedef 666]
type    = A
movetype= A
physics = A
juggle  = 5
poweradd= 15
velset =  0,0
ctrl = 0
anim = 666
sprpriority = 2


[State 0, Turn]
type = Turn
trigger1 = time = [1,7]
trigger1 = P2DIST X <= -5
;ignorehitpause =
;persistent =

[State 400, 1]
type = PlaySnd
trigger1 = ANIMELEM = 2
value = 5,15
VOLUME = 9999999999



[State 400, 1]
type = PlaySnd
trigger1 = ANIMELEM = 2
value = 4,2
VOLUME = 9999999999

[State 400, 1]
type = PlaySnd
trigger1 = movehit = 1
value = 5,2
VOLUME = 1


[State 0, VelSet]
type = VelSet
trigger1 = time > 9
x = 13
y = 9
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = time = [1,8]
x = 0
y = -1
;ignorehitpause =
;persistent =

[State 250, 2]
type = HitDef
trigger1 = timemod = 7,0
attr = S, NA
animtype  = Medium
damage    = 80
guardflag = MA
pausetime = 5,12
sparkno = S3222
sparkxy = -10,-12
hitsound   = S5,3
guardsound = S5,3
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2.2,-3.2
fall = 1
envshake.TIME = 31
envshake.freq = 90
envshake.ampl = -3
envshake.phase = 90

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "Circle"
ID = 6200
stateno = 6200
pos = -5,-30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 999
size.xscale = 0.5
size.yscale = 0.5

[State 6061, end]
type = ChangeState
trigger1 = movecontact
value = 105
ctrl = 1

;--------------------------------------

[Statedef 910]
type = S
movetype = I
physics = S
sprpriority = 1
ctrl = 0
poweradd = -100

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0
trigger1=!Time
trigger1 = Anim != 280
value = 280

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 2
trigger1=!Time
trigger1 = Anim != 380
value = 380

[State 883, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S9,6
volume = 1000


[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal ;player
name = "Frog Summon"
ID = 911
stateno = 911
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemove
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1



[Statedef 911]
type = S
movetype = A
physics = S
anim = 910
velset = 0,0
sprpriority = 3
ctrl = 0

[State 883, PlaySnd]
type = PlaySnd
trigger1 = time=1
value = S40,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 29
y = -10

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1    ;fv = 10
value = ceil(p2dist x/25)

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
x = var(1)

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y > 0
trigger1 = time > 29
x = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 29 && pos y >= 0
value = 911
persistent = 0

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
hitflag = MAFD
damage = 60,30
getpower = 0
ground.type = Low
air.type = Low
pausetime = 0,0
ground.hittime = 20
air.hittime = 20
ground.velocity = 0,50
air.velocity = 0,50
fall = 1
fall.recover = 0
sparkno = -1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 0, Explod]
type = Explod
trigger1 = anim = 911
anim = 1039
ID = 912
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = anim = 911 && animtime = -4
anim = 17000
ID = 252
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermove
pausemove
scale = .8,.8
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = anim = 911 && animtime = -4
value = S1,5
volume = 0
channel = -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 911
value = S1,24
volume = 0
channel = -1
persistent = 0


[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 911 && animtime = 0

;-------------------------------------------------------------------------------
[Statedef 980]
type = S
movetype = A
physics = S
anim = 980
poweradd= -200
sprpriority = 1
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,4
volume = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = 12,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 38
value = 12,19

[State 0, Explod]
type = Explod
trigger1 = time = 0
ID = 2999
anim = 17000
scale =.25,.5
pos = 0,-5
postype = p1
facing = 1
accel = 0,0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
sprpriority = 9


[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 981
ID = 981
pos = -8,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
ownpal = 1
random = 0,0
removetime = 15
supermove
pausemove
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,4
volume = 0
channel = -1

[State 0, Projectile]
type = Projectile
trigger1 = animelem = 4
ProjID = 982
projanim = 982
projscale = 1,1
projremove = 0
projremovetime = -1
velocity = 10,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 1
projmiss = 0
projpriority = 2
projsprpriority = 3
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = 3,-25
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
attr = S,NA
damage = 60,30
ground.type = Low
air.type = Low
hitsound = S12,12
pausetime = 0,0
ground.hittime = 30
air.hittime = 30
ground.velocity = -5,-1
air.velocity = -5,-1
sparkno = 12
sparkxy = 20,0
fall = 1
fall.recover = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------

; disparar kunai
[StateDef 1000]
type = S
movetype = A
physics = S
anim = 3000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 12,13

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
pos = 11,-19
postype = p1
ID = 50
stateno = 1001
helpertype = normal
name = "kunai"
ownpal = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;kunai
[StateDef 1001]
type = A
movetype = A
physics = N
anim = 3001
ctrl = 0
sprpriority = 500

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = time <= 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1002
time = -1

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 17
range = -6,6


[State 0, VelSet] ; velocidad inicial
type = VelSet
trigger1 = time = 0
x = 10
y = var(17)*.1

[State 210,HitDef]
type=HitDef
trigger1=AnimElem=1
attr=S,SA
animtype=Medium
damage=10
hitflag = MADF
guardflag=MA
pausetime= 3,10
sparkno= -1
sparkxy= 0,0
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity= -1
air.velocity= -2,-1
getpower = 40


[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
trigger1 = p2stateno = [5000,5999]
value = 12,12
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = movehit
trigger1 = p2stateno = [5000,5999]
anim = 3023
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermovetime= 1000
pausemovetime= 1000
scale = 1,1
sprpriority = 500
ownpal = 1
persistent = 0

[State 0, HitBy]
type = HitBy
trigger1 = time <= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 370, end2]
type = changestate
trigger1 = moveguarded
value = 1008

[State 370, end2]
type = changestate
trigger1 = movehit
value = 1009

[State 370, end2]
type = DestroySelf
trigger1 = ScreenPos X != [0,359]
trigger2 = ScreenPos y != [-10,250]

;kunai derrivado
[StateDef 1002]
type = A
physics = N
anim = 3002
ctrl = 0
sprpriority = 500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = 12,14

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9998
pos = 5,0
postype = p1
bindtime = 1
removetime = -2
supermovetime= 1000
pausemovetime= 1000
scale = .5,.5
sprpriority = 500
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 500, Angle]
type = AngleSet
trigger1 = vel x >= 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi))); + 2

[State 500, Angle]
type = AngleSet
trigger1 = vel x < 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))+ 180

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 0, VelSet]
type = VelSet
trigger1 = facing = 1
x = -8
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = facing = -1
x = -8
y = 5

[State 370, end2]
type = DestroySelf
trigger1 = ScreenPos X != [0,359]
trigger2 = ScreenPos y != [-10,250]

[State 370, end2]
type = changestate
trigger1 = Pos y >= 0
value = 1005


;kunai defendido
[StateDef 1008]
type = A
physics = N
anim = 3002
ctrl = 0
sprpriority = 500

[State 0, PlaySnd]
type = null;PlaySnd
trigger1 = time= 0
value = 12,14

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 500, Angle]
type = Angleadd
trigger1 = 1
value = 10

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 35
range = -1,-4


[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = var(35)
y = -6

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 370, end2]
type = changestate
trigger1 = Pos y >= 0
value = 1007


;kunai clavado en el suelo
[StateDef 1005]
type = A
physics = N
anim = 3004
ctrl = 0
sprpriority = 500

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = 12,15

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*2, time*2
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 128
flag = invisible
ignorehitpause = 1

[State 370, end2]
type = DestroySelf
trigger1 = time >= 200



;kunai clavado en el suelo despues del bloqueo
[StateDef 1007]
type = A
physics = N
anim = 3004
ctrl = 0
sprpriority = 500

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = 12,15

[State 500, Angle]
type = AngleSet
trigger1 = 1
value = -65

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*2, time*2
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 128
flag = invisible
ignorehitpause = 1

[State 370, end2]
type = DestroySelf
trigger1 = time >= 200


;kunai clavado en el enemigo inclinada
[StateDef 1006]
type = A
physics = N
anim = 3004
ctrl = 0
sprpriority = 500
poweradd = 15

[State 0, VarRandom]
type = Varset
trigger1 = time = 0
v = 31
value = p2dist x

[State 0, VarRandom]
type = Varset
trigger1 = time = 0
v = 32
value = p2dist y

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 8305, 4]
type = VelSet
trigger1 = 1
x = (p2Dist X-var(31))*0.5
y = (p2Dist y-(var(32)-6))*0.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*2, time*2
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 128
flag = invisible
ignorehitpause = 1

[State 370, end2]
type = DestroySelf
trigger1 = time >= 200



;kunai clavado en el enemigo de frente
[StateDef 1009]
type = A
physics = N
anim = 3004
ctrl = 0
sprpriority = 500
poweradd = 30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0

[State 8305, 4]
type = VelSet
trigger1 = 1
x = (p2Dist X-5)*0.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*4, time*4
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 64
flag = invisible
ignorehitpause = 1

[State 370, end2]
type = DestroySelf
trigger1 = time >= 200

;-------------------------------------------------------------------------------

; disparar kunai en aire
[StateDef 1003]
type = A
movetype = A
physics = A
anim = 3003
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 12,13

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
pos = 11,-19
ID = 50
postype = p1
stateno = 1004
helpertype = normal
name = "kunai"
ownpal = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;kunai aereo
[StateDef 1004]
type = A
movetype = A
physics = N
anim = 3005
ctrl = 0
sprpriority = 500

[State 500, Angle]
type = AngleSet
trigger1 = vel x >= 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi))); + 2

[State 500, Angle]
type = AngleSet
trigger1 = vel x < 0
value = ((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))+ 180

[State 500, Draw]
type = AngleDraw
trigger1 = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = time <= 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1002
time = -1

[State 0, 2]
type = VelSet
trigger1 = Time = 0
X = ((ABS(P2Dist X))/15)

[State 0, VelSet]
type = VelSet
trigger1 = p2dist y < 0
trigger1 = time = 0
y = ((ABS(P2Dist y-20))/-15)

[State 0, VelSet]
type = VelSet
trigger1 = p2dist y > 0
trigger1 = time = 0
y = ((ABS(P2Dist y-20))/15)

[State 0, VelAdd]
type = VelAdd
trigger1 = vel x <= 2
x = .1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 210,HitDef]
type=HitDef
trigger1= AnimElem =1
attr=S,SA
animtype=Medium
damage=10
hitflag = MADF
guardflag=MA
pausetime= 3,10
sparkno= -1
sparkxy= 0,0
guardsound=s6,0
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity= -1
air.velocity= -2,-1
getpower = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
trigger1 = p2stateno = [5000,5999]
value = 12,12
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = movehit
trigger1 = p2stateno = [5000,5999]
anim = 3023
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermovetime= 1000
pausemovetime= 1000
scale = 1,1
sprpriority = 500
ownpal = 1
persistent = 0

[State 0, HitBy]
type = HitBy
trigger1 = time <= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 370, end2]
type = changestate
trigger1 = Pos y >= 0
value = 1005

[State 370, end2]
type = changestate
trigger1 = moveguarded
value = 1008

[State 370, end2]
type = changestate
trigger1 = movehit
value = 1006

[State 370, end2]
type = DestroySelf
trigger1 = ScreenPos X != [0,359]
trigger2 = ScreenPos y != [-10,250]

;-------------------------------------------------------------------------------
; tronco
[StateDef 1010]
type = A
physics = N
anim = 3012
ctrl = 0
sprpriority = 5
poweradd = -1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 12,16

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 17000
pos = 0,0
scale = 0.3,0.3
postype = p1
removetime = -2
sprpriority = 1000
ownpal = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = time <= 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1011
time = -1

[State 0, HitBy]
type = HitBy
trigger1 = time <= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, VelSet]
type = VelSet
trigger1 = time <= 20
trigger2 = pos y >= 0
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 12
value = 3010

[State 0, Gravity]
type = Gravity
trigger1 = time >= 20
trigger1 = pos y < 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 100
value = 1012

;tronco daado
[StateDef 1011]
type = A
physics = N
ctrl = 0
sprpriority = 5

[State 0, HitOverride]
type = HitOverride
trigger1 = time <= 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1011
time = -1

[State 0, HitBy]
type = HitBy
trigger1 = time <= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 50
value = 1012

;tronco explota
[StateDef 1012]
type = A
physics = N
ctrl = 0
sprpriority = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 12,16

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 17000
pos = 0,0
scale = .4,.4
postype = p1
removetime = -2
sprpriority = 1000
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 12

;-------------------------------------------------------------------------------
; sustitucion de clon
[StateDef 1013]
type = A
physics = N
anim = 3012
ctrl = 0
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 12,16

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 17000
pos = 0,0
scale = .3,.5
postype = p1
removetime = -2
sprpriority = 1000
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, ChangeState]
type = destroyself
trigger1 = time >= 6

;-------------------------------------------------------------------------------


; cargar chacra
[Statedef 1020]
type = S
physics = S
movetype = I
sprpriority = 0
ctrl = 0

[State 0, 1]
type = ChangeAnim
triggerall = var(0) = 0
trigger1 = Anim != 3020
value = 3020

[State 150, 1]
type = ChangeAnim
triggerall = var(0) = 1
trigger1 = Anim != 4020
value = 4020

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 6,4
volume = 9999
channel = 1

[State 0, Explod]
type = Explod
triggerall = var(0)=1
trigger1 = timemod = 13,0
anim = 7910
ID = 7910
pos = 1,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
vel = 0,0
scale = .3,.3
ontop = 1
ownpal = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
triggerall = var(0)=0
trigger1 = timemod = 30,0
anim = 7911
ID = 7910
pos = 1,22
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
vel = 0,0
scale = .4,.5
ontop = 1
ownpal = 1
supermovetime = -1
pausemovetime = -1


[State 0, Explod]
type = Explod
triggerall = var(0)=0
trigger1 = time = 0
anim = 3021
ID = 3021
pos = 0,-20
postype = p1
bindtime = -1
removetime = -1
supermovetime = 1000
pausemovetime = 1000
scale = 1,1
sprpriority = 2000
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
triggerall = var(0)=1
anim = 4021
ID = 3021
pos = 0,2
postype = p1
bindtime = -1
removetime = -1
scale = .2,.2
sprpriority = -1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
triggerall = var(0)=1
anim = 4022
ID = 3021
pos = 0,7
postype = p1
bindtime = -1
removetime = -1
scale = .2,.4
sprpriority = 2
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(0)=0
trigger1 = numexplod(3022)=0
anim = 3022
ID = 3022
pos = 0,-20
postype = p1
bindtime = -1
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = -5
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(0)=0
trigger1 = numexplod(30222)=0
anim = 30222
ID = 30222
pos = 0,-20
postype = p1
bindtime = -1
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .75,.75
sprpriority = -20
ownpal = 1
removeongethit = 1

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = 8

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 12,17
channel = 2

[State 830, sound2];sonido continuado
type = PlaySnd
trigger1 =((GameTime%100) = 0)
value = 12,18
;channel = 3

[State 0, StopSnd]
type = StopSnd
triggerall = var(0)=1
trigger1 = time = 0
trigger2 = command != "hold_s"  || power >= 5000
channel = 3

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = var(0)=1
trigger1 = command != "hold_s"  || power >= 5000
id = 3021


[State 0, 4]
type = ChangeState
triggerall = var(0)=1
trigger1 = command != "hold_s" || power >= 5000
value = 0
ctrl = 1

[State 0, StopSnd]
type = StopSnd
triggerall = var(0)=0
trigger1 = time = 0
trigger2 = command != "hold_s"  || power >= 3000
channel = 3

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = var(0)=0
trigger1 = command != "hold_s"  || power >= 3000
id = 3021


[State 0, 4]
type = ChangeState
triggerall = var(0)=0
trigger1 = command != "hold_s" || power > 3000
value = 0
ctrl = 1




; cargar chacra AI
[Statedef 1021]
type = S
physics = S
movetype = I
sprpriority = 0
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3021
ID = 3021
pos = 0,-20
postype = p1
bindtime = -1
removetime = -1
supermovetime = 1000
pausemovetime = 1000
scale = 1,1
sprpriority = 2000
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(3022)=0
anim = 3022
ID = 3022
pos = 0,-20
postype = p1
bindtime = -1
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .5,.5
sprpriority = -5
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(30222)=0
anim = 30222
ID = 30222
pos = 0,-20
postype = p1
bindtime = -1
removetime = -2
supermovetime = 1000
pausemovetime = 1000
scale = .75,.75
sprpriority = -20
ownpal = 1
removeongethit = 1



[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 3020
value = 3020

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = 8

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 12,17
channel = 2

[State 830, sound2];sonido continuado
type = PlaySnd
trigger1 =((GameTime%100) = 0)
value = 12,18
;channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
trigger2 = command != "hold_a"
trigger3 = command != "hold_b"
channel = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_a"
trigger2 = command != "hold_b"
id = 3021

[State 0, 4]
type = ChangeState
trigger1 = command != "hold_a"
trigger2 = command != "hold_b"
value = 0
ctrl = 1

;-------------------------------------------------------------------------------

;clones de sombra 1
[StateDef 1050]
type = S
movetype = A
physics = S
ctrl = 0

[State 0, ChangeAnim]
type = Changeanim
triggerall = var(0) = 0
trigger1 = Anim != 3030
value = 3030

[State 0, ChangeAnim]
type = Changeanim
triggerall = var(0) = 2
trigger1 = Anim != 13030
value = 13030

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 12,17

[State 0, VarRandom]
type = Varset
trigger1 = enemy,backedgedist <= 100
v = 5
value = 15

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 1,21

[State 0, VarRandom]
type = Varset
trigger1 = enemy,backedgedist <= 100
v = 5
value = 15

[State 0, Helper]
type = Helper
trigger1 = var(5) = [1,10]
trigger2 = var(5) = 21
triggerall= time = 0
helpertype = player
name = "clon de sombra"
ID = 1040
stateno = 1040
pos = -100,0
postype = p2
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = var(5) = [11,20]
trigger2 = var(5) = 21
triggerall= time = 0
helpertype = player
name = "clon de sombra"
ID = 1040
stateno = 1040
pos = 100,0
postype = p2
facing = -1
ownpal = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------------------

;clones de sombra 1 aire
[StateDef 1051]
type = A
movetype = A
physics = N
anim = 3031
ctrl = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 12,17

[State 0, Helper]
type = Helper
trigger1= time = 0
helpertype = player
name = "clon de sombra"
ID = 1060
stateno = 1060
pos = 60,-70
postype = left ;right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1= time = 0
helpertype = player
name = "clon de sombra"
ID = 1060
stateno = 1060
pos = -60,-70
postype = right
facing = -1
ownpal = 1


[State 0, Helper]
type = Helper
trigger1= time = 2
trigger1= power >= 700
helpertype = player
name = "clon de sombra"
ID = 1060
stateno = 1060
pos = 140,-120
postype = left ;right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1= time = 2
trigger1= power >= 700
helpertype = player
name = "clon de sombra"
ID = 1060
stateno = 1060
pos = -140,-120
postype = right
facing = -1
ownpal = 1


[State 0, Helper]
type = Helper
trigger1= time = 4
trigger1= power >= 1600
helpertype = player
name = "clon de sombra"
ID = 1060
stateno = 1060
pos = 0,-30
postype = left ;right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1= time = 4
trigger1= power >= 1600
helpertype = player
name = "clon de sombra"
ID = 1060
stateno = 1060
pos = 0,-30
postype = right
facing = -1
ownpal = 1


[State 0, Helper]
type = Helper
trigger1= time = 8
trigger1= power >= 2500
helpertype = player
name = "clon de sombra"
ID = 1060
stateno = 1060
pos = 100,-100
postype = left ;right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1= time = 8
trigger1= power >= 2500
helpertype = player
name = "clon de sombra"
ID = 1060
stateno = 1060
pos = -100,-100
postype = right
facing = -1
ownpal = 1


[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50



;-------------------------------------------------------------------------------

;clones de sombra 2
[StateDef 1052]
type = S
movetype = A
physics = S
anim = 3030
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 12,17

[State 0, VarRandom]
type = Varset
trigger1 = enemy,backedgedist <= 100
v = 5
value = 15

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 1,21

[State 0, VarRandom]
type = Varset
trigger1 = enemy,backedgedist <= 100
v = 5
value = 15

[State 0, Helper]
type = Helper
trigger1 = var(5) = [1,10]
trigger2 = var(5) = 21
triggerall= time = 0
helpertype = player
name = "clon de sombra"
ID = 1070
stateno = 1070
pos = -100,0
postype = p2
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = var(5) = [11,20]
trigger2 = var(5) = 21
triggerall= time = 0
helpertype = player
name = "clon de sombra"
ID = 1070
stateno = 1070
pos = 100,0
postype = p2
facing = -1
ownpal = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------

;air clones de sombra 2
[StateDef 1053]
type = A
movetype = A
physics = A
anim = 3031
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 12,17

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 1,21

[State 0, Helper]
type = Helper
trigger1 = var(5) = [1,10]
trigger2 = var(5) = 21
triggerall= time = 0
helpertype = player
name = "clon de sombra"
ID = 1070
stateno = 1070
pos = -100,0
postype = p2
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = var(5) = [11,20]
trigger2 = var(5) = 21
triggerall= time = 0
helpertype = player
name = "clon de sombra"
ID = 1070
stateno = 1070
pos = 100,0
postype = p2
facing = -1
ownpal = 1

[State 0, end]
type = ChangeState
trigger1 = Time = 20
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Smoke Shield
[Statedef 1150]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 1150
sprpriority = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22    ;fv =
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,87

[State 500, Explod]
type = Explod
trigger1 = time = 1
anim = 9506
ID = 9506
pos = -10,-32
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 1,1
removetime = 16
sprpriority = 6
ownpal = 1

[State 500, Explod]
type = Explod
trigger1 = time = 5
anim = 1151
ID = 1151
pos = -12,-16
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 1,1
removetime = -1
removeongethit = 1
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 2
ID = 1151
pos = -1,6
postype = p1  ;p2,front,back,left,right

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 3
ID = 1151
pos = 2,18
postype = p1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 30
id = 1151

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
ID = 32210
stateno = 32210
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Smoke
[StateDef 32210]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 2310
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time%5 = 0 && time < 17
volume = 800
value = S0,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time%3 = 0 && time < 17
volume = 800
value = S0,11

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 32220
ID = 32220
pos = 0,-45
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = 800
ontop = 1
scale = 0.8,0.8
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 32220
ID = 32220
pos = 0,-45
scale = 0.8,0.8
postype = p1  ;p2,front,back,left,right
facing = -1
removetime = 800
ontop = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time <= 15
ID = 32220
trans = addalpha
alpha = time*16,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 600
ID = 32220
trans = addalpha
alpha = 240-(time-600)*1.28,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 800
;-------------------------------------------------------------------------------

;chacra rojo del zorro de nueve colas
[StateDef 2030]
type = A
physics = N
anim = 3012
ctrl = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,stateno = [4105,4700]
time = 1
mul = 0,0,0
color = 256

[State 0, PowerAdd]
type = PowerAdd
trigger1 = parent,life <= (parent,LifeMax/3)
value = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = parent,life <= (parent,LifeMax/4)
value = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = parent,life <= (parent,LifeMax/7)
value = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = parent,life <= (parent,LifeMax/10)
value = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,stateno != [4105,4499]
time = 100
mul = 60,60,60


[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
anim = 4502
pos = -6,-19
postype = p1
bindtime = 1
vel = 0,0
accel = 0,-.02
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = -5
ownpal = 0


[State 0, Explod]
type = Explod
trigger1 = timemod = 10,1
anim = 4502
pos = 6,-19
postype = p1
bindtime = 1
vel = 0,0
accel = 0,-.02
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = -5
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,2
anim = 4502
pos = 3,-5
postype = p1
bindtime = 1
vel = 0,0
accel = 0,-.02
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = -5
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,3
anim = 4502
pos = -3,-5
postype = p1
bindtime = 1
vel = 0,0
accel = 0,-.02
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = -5
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,4
anim = 4502
pos = 5,-30
postype = p1
bindtime = 1
vel = 0,0
accel = 0,-.02
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = -5
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,5
anim = 4502
pos = -5,-30
postype = p1
bindtime = 1
vel = 0,0
accel = 0,-.02
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = -5
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,6
anim = 4502
pos = 0,-22
postype = p1
bindtime = 1
vel = 0,0
accel = 0,-.02
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = -5
ownpal = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,life <= 0
trigger2 = parent,life > (parent,LifeMax/3)


;-------------------------------------------------------------------------------

;chacra rojo del zorro de nueve colas delantero y oscuro
[StateDef 2031]
type = A
physics = N
anim = 3012
ctrl = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,stateno = [4105,4499]
time = 1
mul = 0,0,0
color = 256

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,stateno != [4105,4499]
time = 100
mul = 25,25,25


[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
anim = 4503
pos = 0,0
postype = p1
bindtime = -1
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = 100
ownpal = 0


[State 0, Explod]
type = Explod
trigger1 = timemod = 10,2
anim = 4503
pos = 7,-9
postype = p1
bindtime = -1
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = 100
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,4
anim = 4503
pos = 7,-9
postype = p1
bindtime = -1
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = 100
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,6
anim = 4503
pos = -3,-22
postype = p1
bindtime = -1
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = 100
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,8
anim = 4503
pos = 3,-33
postype = p1
bindtime = -1
random = 10,10
removetime = -2
supermovetime = 10000
pausemovetime = 10000
scale = .5,.5
sprpriority = 100
ownpal = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,life <= 0
trigger2 = parent,life > (parent,LifeMax/3)

;-------------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Air Dash (Forwards)
[StateDef 2100]
type = A
movetype = I
physics = N
anim = 2400
velset = 10,0
ctrl = 1
sprpriority = 2

[State 2100, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 250,0

[State 2100, Explod]
type = Explod
trigger1 = !time
anim = 2010
ID = 17000
pos = -13,-2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 2100, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 7

[State 2100, ChangeState]
type = ChangeState
trigger1 = AnimElem = 6
value = 51


;-------------------------------------------------------------------------------
[StateDef 1900]
type = S
movetype = I
physics = S
anim = 14000
velset = 0,0
sprpriority = 2
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S6,67
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S6,68
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S6,65
channel = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S6,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2,40
volume = 200


[State 883, PlaySnd]
type = PlaySnd
trigger1 = !time
anim=-1
value = S1,15
volume = 1000

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 50
anim = -1
pos = 0,0
movetime = 50
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 5,-35
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 1400, VarSet]
type = VarSet
trigger1 = !time
var(5) = floor(power/1000)

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 250,1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 4
trigger1 = numhelper(14025)= 0
helpertype = normal
name = "armadura"
ID = 14025
stateno = 14025
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 39
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = time = 39
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 5212212
pos = 0,-23
postype = p1
removetime = 12
scale = .5,.5
sprpriority = 100
shadow = 0,0,0
ownpal = 1
supermove = -1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 9015
ID = 9015
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .6,.6
ontop = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1


[State 1400, VarSet]
type = VarSet
trigger1 = time = 17
var(0) = 1

[State 1400, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Sage trasform

 [StateDef 1905]
type = S
movetype = I
physics = S
anim = 8000
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1400, VarSet]
type = VarSet
trigger1 = !time
var(5) = floor(power/1000)

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 250,1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 4
trigger1 = numhelper(14025)= 0
helpertype = normal
name = "armadura"
ID = 14025
stateno = 14025
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000

[State 0, Helper]
type = Helper
trigger1 = timemod = 8,0 && time = 1
helpertype = normal ;player
name = "ball"
ID = 29998
stateno = 29998
pos = 8,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
supermovetime = 9999

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 39
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = time = 39
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 5212212
pos = 0,-23
postype = p1
removetime = -2
scale = .5,.5
sprpriority = 100
shadow = 0,0,0
ownpal = 1


[State 1400, VarSet]
type = VarSet
trigger1 = time = 17
var(1) = 1

[State 1400, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Chakra Balls
[Statedef 29998]
type = A
movetype = I
physics = N

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VarRandom]
type = Varset
trigger1 = time = 0
v = 3
value = random%360+1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 29998
elem = parent,var(3)+1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = time*3+var(3)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
[StateDef 1901]
type = S
movetype = I
physics = S
anim = 14001
velset = 0,0
sprpriority = 2
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S6,67
channel = -1

[State 1400, VarSet]
type = VarSet
trigger1 = !time
var(5) = floor(power/1000)

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 250,1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 4
trigger1 = numhelper(14025)= 0
helpertype = normal
name = "armadura"
ID = 14025
stateno = 14025
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 17
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = time = 17
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 5212212
pos = 0,-23
postype = p1
removetime = -2
scale = .5,.5
sprpriority = 100
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 9015
pos = 0,10
postype = p1
removetime = -2
scale = .4,.25
sprpriority = 100
shadow = 0,0,0
ownpal = 1


[State 1400, VarSet]
type = VarSet
trigger1 = time = 17
var(0) = 0

[State 1400, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; armadura
[Statedef 14025]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 649
sprpriority = -2

[State 0, HitOverride]
type = HitOverride
trigger1 = time <= 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 14025
time = -1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
facing = 1
pos = 0,0
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = time <= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != [14000,14050]
;----------------------------------------------------------------------------
[StateDef 8922]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2043
poweradd = -300
sprpriority = 2

[State 0, AfterImage ]
type = AfterImage
trigger1 = TIME = 1
time = 15
trans = add
timegap = 1
framegap = 4
length = 15
palbright = 30,30,30
palcontrast = 160,88,203
palpostbright = 0,0,0
paladd = 256,256,0
palmul = .65,.65,.75


[State 200, Explod]
type = Explod
trigger1 = animelem = 1
anim = 243443
removetime = -2
removeongethit = 0
bindtime = 1
scale = .5,.5
sprpriority = 3
pos = 0,-25
ontop = 1
ownpal = 0

[State 200, Explod]
type = Explod
trigger1 = animelem = 4
anim = 243443
removetime = -2
removeongethit = 0
bindtime = 1
scale = .5,.5
sprpriority = 3
pos = 0,-25
ontop = 1
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 2
value = S0,9
volume = 9999999999999999999999990
channel = -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 2
value = S3,3
volume = 9999999999999999999999990
channel = -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 1
value = S5,7
volume = 9999999999999999999999990
channel = -1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 555555
y = 0
;ignorehitpause =
;persistent =


[State 2022, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
;----------------------------------------------------------------------------
[StateDef 2022022]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2043
poweradd = -300
sprpriority = 2


[State 0, AfterImage ]
type = AfterImage
trigger1 = TIME = 1
time = 15
trans = add
timegap = 1
framegap = 4
length = 15
palbright = 30,30,30
palcontrast = 160,88,203
palpostbright = 0,0,0
paladd = 256,256,0
palmul = .65,.65,.75



[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 1
value = S5,7
volume = 9999999999999999999999990
channel = -1

[State 0, Turn]
type = Turn
trigger1 = P2DIST X <= -25
;ignorehitpause =
;persistent =

[State 200, Explod]
type = Explod
trigger1 = animelem = 1
anim = 243443
removetime = -2
removeongethit = 0
bindtime = 1
scale = .5,.5
sprpriority = 3
pos = -0,-25
ontop = 1
ownpal = 0

[State 200, Explod]
type = Explod
trigger1 = animelem = 4
anim = 243443
removetime = -2
removeongethit = 0
bindtime = 1
scale = .5,.5
sprpriority = 3
pos = 0,-25
ontop = 1
ownpal = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 555555
y = 0
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 2
value = S0,9
volume = 9999999999999999999999990
channel = -1



[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 2
value = S3,3
volume = 9999999999999999999999990
channel = -1

[State 2022, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
;--------------------------------------------
 [StateDef 199910]
type = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 199910
poweradd = 0
sprpriority = 2

[State 883, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,15
volume = 1000

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 50
anim = -1
pos = 0,0
movetime = 50
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 5,-35
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999


[State 2900, 1]
type = helper
trigger1 = time = 70
name = "Chacra Rikudo hands"
helpertype = normal
id = 199915
stateno = 199915
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 2900, 1]
type = helper
trigger1 = time = 70
name = "Chacra Rikudo hands"
helpertype = normal
id = 199915
stateno = 199915
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 0

[State 3195, Explod]
type = Explod
Triggerall = command = "hold_y"
trigger1 = time = 80
anim = 363543
ID = 44
pos = 0,-70
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
scale = .5,.5
ontop = 0
ownpal = 0
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S2,42
volume = 100

[State 2900, 1]
type = helper
trigger1  = (TimeMod = 20,0)
trigger1 = time >= 90
name = "PULL p2"
helpertype = normal
id = 199914
stateno = 199914
pos = -10,0
postype = p2
keyctrl = 0
ownpal = 0

[State 3195, Explod]
type = Explod
Triggerall = command = "hold_y"
trigger1 = time = 80
anim = 5235263
ID = 44
pos = 0,-70
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
scale = .5,.5
ontop = 1
ownpal = 0
removeongethit = 1

[State 3195, Explod]
type = Explod
Triggerall = command = "hold_y"
trigger1 = time = 80
anim = 5235252
ID = 44
pos = 0,5
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
scale = .25,.25
ontop = 0
ownpal = 0
removeongethit = 1

[State 3195, Explod]
type = Explod
Triggerall = command = "hold_y"
trigger1 = time = 80
anim = 356499
ID = 44
pos = 0,2
postype = p1  ;p2,front,back,left,right
removetime = -1
scale = .5,.5
ontop = 0
ownpal = 0
removeongethit = 1

[State 3195, RemoveExplod]
type = RemoveExplod
Trigger1 = command != "hold_y"
id = 44
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = 34522222,0
volume = -750
channel = 12
loop = 1
freqmul = 1.0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 80,0
trigger1 = time >= 50
value = 222,9
volume = 999999999999
channel = 13

[State 3195, StopSnd]
type = StopSnd
Trigger1 = command != "hold_y"
channel = 13
;ignorehitpause =
;persistent =

[State 3195, StopSnd]
type = StopSnd
Trigger1 = command != "hold_y"
channel = 12
;ignorehitpause =
;persistent =

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 1
id = -1
pos = 0,-70
;ignorehitpause =
;persistent =

[State 3195, Explod]
type = Explod
trigger1 =  movehit = 1
anim = 1850
ID = 375352
pos = 0,-10
postype = p2  ;p2,front,back,left,right
bindtime = 1
removetime = -2
random = 100,100
sprpriority = 12
scale = .1,.1
ontop = 1
ownpal = 0
removeongethit = 0

[State 200, 1]
type = HitDef
trigger1 = timemod = 7,0
attr = S, SA
damage = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 14
sparkno = -1
sparkxy = -10, -26
hitsound = 333,31222
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = 0
air.type = High
p2stateno = 199913
air.velocity = 0
air.hittime = 12
getpower = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S333,31222
volume = -1000
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1244444,0
volume = 999999999999999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S2,0
volume = 9999999999999999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,551
volume = 99999999999999999999
channel = -1


[State 3195, PowerAdd]
type = PowerAdd
triggerall = time >= 100
Trigger1 = command = "hold_y"
value = -6
ctrl = 1
;ignorehitpause =
;persistent =

[State 0, end]
type = ChangeState
triggerall = time >= 105
Trigger1 = command != "hold_y"
trigger2 = power = 0
value = 199911
ctrl = 1

[State 0, end]
type = ChangeState
triggerall = time = [11,85]
Trigger1 = command != "hold_y"
value = 199912
ctrl = 1

;--------------------------------------------------
[StateDef 199911]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 199911
poweradd = 0
sprpriority = 2

[State 240, 1]
type = HitDef
trigger1 = timemod = 7,0
attr = S, NA
damage = 50
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = S521221
sparkxy = -10,-32
hitsound = S3,2              ;Sound to play on hit
guardsound = S3,2
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -2,-12
airguard.velocity = -2,-12
air.type = High
air.velocity = -2,-12
air.hittime = 15
getpower = 0
fall = 1
fall.recover = 0
p2stateno = 1105000
fall = 1
envshake.TIME = 31
envshake.freq = 90
envshake.ampl = -7
envshake.phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,8
volume = -30
channel = -1

[State 3195, Explod]
type = Explod
trigger1 = animelem = 1
anim = 363543
ID = 363543
pos = 0,-60
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1
ownpal = 0
removeongethit = 1

[State 3195, Explod]
type = Explod
trigger1 = animelem = 1
anim = 412211
ID = 412211
pos = 0,-70
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = .7,.7
ontop = 1
ownpal = 0
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,2
volume = 9999999999999999999999999999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S41222,0
volume = 99999999999999999999999999999999
channel = -1

[State 3197, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------
[Statedef 199913]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
;ANIM = 5000
ctrl = 0
poweradd = -1
sprpriority = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -5
kill = 1
absolute = 1
;ignorehitpause =
;persistent =


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = nomusic
flag2 = timerfreeze

[State ??, ??]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nowalk

[State 0, ChangeState]
type = SELFSTATE
trigger1 = animtime = 0
value = 5050
CTRL = 1

;-------------------------------------------------------------------------45 deg
[Statedef 1105000]
type    = U
movetype= H
physics = S
ctrl = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 5020, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5110

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5]
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 1105001

;----------------------------------------------------
;-------------------------------------------------------------------------------
[Statedef 1105001]
type    = A
movetype= H
physics = N
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S11,0
volume = 9999
channel = -1

[State 0, HitVelSet]
type = HitVelSet
trigger1 = time =0
x = 1
y = 1

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = time*55

[State 230, 5]
type = SelfState
trigger1 = vel y>0
trigger1 = pos y>-vel y+25
value = 5100
ctrl = 0

;----------------------------------------------------
[StateDef 199912]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 199911
poweradd = 20
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
;ignorehitpause =
;persistent =


[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = -1
;ignorehitpause =
;persistent =


[State 0, end]
type = ChangeState
trigger1 = Time = 5
value = 0
ctrl = 1


;--------------------------------------------------
[Statedef 199914]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 199914

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
;ignorehitpause =
;persistent =

[state 7233841]
type = posset
trigger1 = p2Dist x < 0
x = enemy,pos x

[state 7233841]
type = posset
trigger1 = p2Dist x > 100
x = enemy,pos x

[state 7233841]
type = posadd
trigger1 = pos x = enemy,pos x
x = -30

[State 7233841, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = S,NA
pause,0
sparkno = S1500
hitsound = S1,0
p1stateno = 199910
p2stateno = 199910

[State 7233841, 0]
type = PlayerPush
trigger1 = 1
value = 1

[State 7233841, 0]
type = velset
trigger1 = 1
x = 3

[state 7233841]
type = destroyself
trigger1 = (Time = 20)

[StateDef 199915]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 199915
poweradd = 0
sprpriority = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,5
;ignorehitpause =
;persistent =

[State 199916, end]
type = ChangeState
triggerALL = P2STATETYPE = S || P2STATETYPE = C
trigger1 = P2BodyDist x = [30,50]
value = 199916
ctrl = 1

[State 199915, end]
type = destroyself
trigger1 = power = 0

[State 199915, end]
type = destroyself
trigger1 = parent, stateno = [5000,5050]

[State 199915, end]
type = destroyself
trigger1 = parent, command != "hold_y"


[StateDef 199916]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 199916
poweradd = 0
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1
scale = 1.2,1.2
;ignorehitpause =
;persistent =

;[State 0, Trans]
;type = Trans
;trigger1 = 1
;trans = add
;alpha = 256,256
;ignorehitpause =
;persistent =

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
;pos = 0,0
;ignorehitpause =
;persistent =

[State 199916, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3,0
sparkno = s5212212
sparkxy = -30, -54
hitsound = s5, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-1
airguard.velocity = -1.9,-.8
air.type = High
p2stateno = 199917
air.velocity = -1.4,-3
air.hittime = 12
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 199915, end]
type = destroyself
trigger1 = power = 0

[State 199915, end]
type = destroyself
trigger1 = parent, stateno = [5000,5050]

[State 199916, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 199915
ctrl = 1

;-----------------------------------------------
[Statedef 199917]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 3,-5
;ANIM = 5000
ctrl = 0
poweradd = -1
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = nomusic
flag2 = timerfreeze

[State ??, ??]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nowalk

[State 0, ChangeState]
type = SELFSTATE
trigger1 = animtime = 0
value = 5050
CTRL = 1

;-------------------------------------------------------------------------------

;---------------------------------------------------------------------------
[Statedef 7533]
type    = S
movetype= I
physics = S
sprpriority = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 7533

[State 50, PlaySnd]
type = PlaySnd
trigger1 = Time = 15
value = S1,18
volume = 400

[State 100, Dust Effect]
type = Explod
trigger1 = Time = 15
anim = 2010
ID = -1
pos = -10,2
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 99999
pausemovetime = 99999
scale = 0.25,0.25
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 0



[State 883, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 15
value = S6,11
volume = 1000


[State 883, Helper]
type = Helper
trigger1 = Time = 10
helpertype = normal
name = "hand"
ID = 351
stateno = 1048
pos = -4,12
postype = p1
facing = 1
ownpal = 1

[State 883, ChangeState]
type = ChangeState
trigger1 = Time = 50
value = 0
ctrl = 1




[Statedef 1048]
type = S
movetype = A
physics = S
anim = 7534
sprpriority = 5
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,4
volume = 255
channel = -1
freqmul = .7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,5
volume = 255
channel = -1
freqmul = .8

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 25
freq = 120
ampl = -3

[State 0, HitDef]
type = HitDef
trigger1 = !movehit
attr = S,NA
hitflag = MAF
guardflag = HL
ground.type = Low
air.type = Low
damage = 50,25
pausetime = 0,0
sparkno = S1100
sparkxy = -15,-30
ground.velocity = -10,-5
air.velocity = -10,-5
fall = 1
fall.recover = 1
persistent = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.ampl = -8
envshake.freq = 100
envshake.time = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S5,11
volume = 255
channel = -1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S5,12
volume = 255
channel = -1
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 33

[Statedef 1159]
type = S
movetype = A
physics = S
anim = 1991
power = -200
sprpriority = -3
velset = 0,0
ctrl = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,4
volume = 255
channel = -1
freqmul = .7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,5
volume = 255
channel = -1
freqmul = .8

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 30
freq = 120
ampl = -5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,14
volume = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,6
volume = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,7
volume = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,22
volume = 0
channel = -1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 5554332
ID = 6081
pos = 100,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 1038
ID = 6081
pos = 100,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, HitDef]
type = HitDef
trigger1 = !movehit
attr = S,NA
hitflag = MAFD
guardflag = HL
ground.type = Low
air.type = Low
damage = 60,30
pausetime = 0,0
sparkxy = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.velocity = -3,-10
air.velocity = -3,10
fall = 1
fall.recover = 0
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S7,8
volume = 255
channel = -1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S7,9
volume = 255
channel = -1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[StateDef 197]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 197
poweradd = 20
sprpriority = 2


[State 3195, Explod]
type = Explod
trigger1 = animelem = 1
anim = 363543
ID = 66632229
pos = 2,-23
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = .4,.4
ontop = 1
ownpal = 0
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,2
volume = 9999999999999999999999999999999999999999999999
channel = -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S41222,0
volume = 99999999999999999999999999999999
channel = -1



[State 3197, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[StateDef 1990]
type = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1990
poweradd = -1500
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(10) >= 200
v = 10
value = 200

[State 0, VarSet]
type = Varadd
trigger1 = var(10) <= 199
v = 10
value = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = !time
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = !time
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 883, PlaySnd]
type = PlaySnd
trigger1 = !time
anim=-1
value = S1,15
volume = 1000

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 80
anim = -1
pos = 0,0
movetime = 80
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 5,-35
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 3195, Explod]
type = Explod
Triggerall = command = "hold_c"
trigger1 = time = 20
anim =10351
ID = 8030
pos =7,-7
postype = p1  ;p2,front,back,left,right
bindtime = -1
facing = 1
removetime = -1
sprpriority = 100
scale = 1,1
ontop = 1
ownpal = 0
removeongethit = 1
supermovetime = 999

[State 3195, Explod]
type = Explod
Triggerall = command = "hold_c"
trigger1 = time = 90
anim =9997999
ID = 8030
pos =5,-15
postype = p1  ;p2,front,back,left,right
bindtime = -1
facing = 1
removetime = -1
sprpriority = 9
scale = .4,.4
ontop = 1
ownpal = 0
removeongethit = 1



[State 3195, Explod]
type = Explod
trigger1 = time = 50
anim = 363543
ID = 363543
pos = 5,-25
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = .5,.5
ontop = 1
ownpal = 0
removeongethit = 1
supermovetime = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1221,0
volume = 999999999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,551
volume = 999999999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S534444,0
volume = 999999999999999999999999999
channel = 12

[State 3195, StopSnd]
type = StopSnd
Trigger1 = command != "hold_c"
channel = 12
;ignorehitpause =
;persistent =

[State 3195, StopSnd]
type = StopSnd
Trigger1 = command != "hold_c"
channel = 13
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
trigger1 = time >= 80
value = 0,7
volume = 999999
channel = 13

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 80
time = 5
freq = -30
ampl = -7
phase = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
trigger1 = time >= 80
value = 0,77
volume = 999999
channel = -1

[State 428, VarSet]
type = VarSet
trigger1 = time = 84
fv = 10    ;fv = 10
value = 0

[State 428, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.015

[State 428, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 3195, Explod]
type = Explod
Triggerall = command = "hold_c"
trigger1 = time = 80
anim = 2411122
ID = 8030
pos = -41,30
postype = p1  ;p2,front,back,left,right
bindtime = -1
facing = 1
removetime = -1
scale = .5,.5
ontop = 0
ownpal = 0
removeongethit = 1
supermovetime = 999

[State 3195, Explod]
type = Explod
Triggerall = command = "hold_c"
trigger1 = time = 80
anim = 2411122
ID = 8030
pos = 51,30
postype = p1  ;p2,front,back,left,right
bindtime = -1
facing = -1
removetime = -1
scale = .5,.5
ontop = 0
ownpal = 0
removeongethit = 1
supermovetime = 999



[State 3195, Explod]
type = Explod
Triggerall = command = "hold_c"
trigger1 = time = 80
anim = 5235252
ID = 8030
pos = 4,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
scale = .4,.4
ontop = 0
ownpal = 0
removeongethit = 1
supermovetime = 999

[State 428, Explod]
type = Explod
Triggerall = command = "hold_c"
trigger1 = time = 83
anim = 4122222
ID = 8030
pos = 7,-15
postype = p1
bindtime = -1
removetime = -1
scale = .6,.6
sprpriority = 3
removeongethit = 1
ownpal = 0
ontop = 1


[State 3195, RemoveExplod]
type = RemoveExplod
Trigger1 = command != "hold_c"
id = 8030
;ignorehitpause =
;persistent =

[State 3195, Explod]
type = Explod
trigger1 = time = 220
anim = 363543
ID = 363543
pos = 5,-25
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = .8,.8
ontop = 1
ownpal = 0
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 220
value = S2,3
volume = 999999999999999999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 220
value = S0,66
volume = 999999999999999999999
channel = -1

[State 0, VarSet] ; variable de tiempo contra kamehameha
type = VarSet
trigger1 = time = 0
v = 13
value = 330

[State 3195, end]
type = ChangeState
triggerall = time >= 40
trigger1 = command != "hold_c" & time >= 0 & time <= 40
value =  197
ctrl = 1

[State 3195, end]
type = ChangeState
trigger1 = command != "hold_c" & time >= 41 & time <= 220
value =  1992
ctrl = 1

[State 0, end]
type = ChangeState
Trigger1 = command != "hold_c" & time >=221 & time <= 9999999999999999999999999999999999999999999999999999999999999999999999999999999999
value = 1996
ctrl = 1


[StateDef 1992]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 197
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 1038
ID = 326432
pos = 30,5
postype = p1
removetime = -2
scale = .9,.8
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 3195, Explod]
type = Explod
trigger1 = time = 5
anim = 363543
ID = 363543
pos = 2,-30
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1.5,1.5
ontop = 1
ownpal = 0
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "EFF"
ID = 1993
stateno = 1993
pos = 55555,55555
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "EXPLOSION"
ID = 1994
stateno = 1994
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 2
size.yscale = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "EXPLOSION"
ID = 1995
stateno = 1995
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 2
size.yscale = 2

[State 1992, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 1993]
type = S
movetype = I
physics = S
anim = 0
sprpriority = -200
ctrl = 0
poweradd = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4444,4444
volume = 9999999
channel = -1
freqmul = .9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S6,1
volume = 9999999
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,2
volume = 9999999
channel = -1

[State 0, AllPalFX]
type = AllPalFX
trigger1 = TIME = [0,10]
time = 1
add = 256-time*8,256-time*8,256-time*8
mul = 256,256,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 32

[StateDef 1994]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5554332
poweradd = 0
sprpriority = 7

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0

[State 210, 2]
type = HitDef
trigger1 = ANIMELEM = 1
trigger2 = ANIMELEM = 2
attr = S, NA
animtype  = Medium
damage    = 100
guardflag = MA
pausetime = 0,0
sparkno = 32337
sparkxy = -30,-35
hitsound   = 551,2
guardsound = 551,2
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -4.4
air.velocity = -6.6,-6
p2stateno = 5600
FALL = 1
envshake.TIME = 33
envshake.freq = 90
envshake.ampl = -4
envshake.phase = 90
getpower = 0
givepower = 0
sprpriority = 7

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ANIMtime = 0


[StateDef 1995]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5554332
poweradd = 0
sprpriority = 7

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0

[State 210, 2]
type = HitDef
trigger1 = ANIMELEM = 1
trigger2 = ANIMELEM = 2
attr = S, NA
animtype  = Medium
affectteam = F
damage    = 100
guardflag = MA
pausetime = 0,0
sparkno = 32337
sparkxy = -30,-35
hitsound   = 551,2
guardsound = 551,2
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = 4.4
p2stateno = 5600
air.velocity = 6.6,-6
FALL = 1
envshake.TIME = 33
envshake.freq = 90
envshake.ampl = -4
envshake.phase = 90
getpower = 0
givepower = 0
sprpriority = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = MOVEHIT = 1
value = S551,2
volume = 99999
channel = 7

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ANIMtime = 0


[Statedef 1996]
type = S
physics = N
velset = 0,0
ctrl = 0
anim = 17010
poweradd = -1000
sprpriority = 2


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 15
value = 30


[State 3195, Explod]
type = Explod
trigger1 = time = 0
anim = 363543
ID = 363543
pos = 2,-30
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1.5,1.5
ontop = 1
ownpal = 0
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S523333,0
volume = 9999999999999999999
channel = -1

[State 0, PalFX]
type = BGPalFX
trigger1 = time = 0
time = 80
add = 0,0,0
mul = 256,256,256
sinadd = -100,-100,-100,160

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 3
trigger1 = numhelper(1996)=0
helpertype = Normal
ID = 1996
name = "2"
postype = p1
pos = 0,-19
stateno = 1998
ownpal = 0
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 3000, 2]
type = ChangeState
trigger1 = time = 6
value = 1997

[Statedef 1997]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 17001

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 33
time = 5
freq = 70
ampl = -2
phase = 70

[State 3195, Explod]
type = Explod
Triggerall = numexplod(2411122) = 0
trigger1 = 1
anim = 2411122
ID = 2411122
pos = -25,20
postype = p1  ;p2,front,back,left,right
bindtime = -1
facing = 1
removetime = -2
scale = .4,.4
ontop = 1
ownpal = 0
removeongethit = 1

[State 3195, Explod]
type = Explod
Triggerall = numexplod(5212212) = 0
trigger1 = 1
anim = 5212212
ID = 5212212
pos = 30,-30
postype = p1  ;p2,front,back,left,right
bindtime = -1
facing = -1
removetime = -2
scale = .4,.4
ontop = 1
ownpal = 0
removeongethit = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(18) > 0
trigger1 = var(18) <= 10
v = 18
value = 10
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 501

[State 0, PalFXWiz]
type = PalFX
trigger1 = time >= 30
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = time >= 30
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256


[State 3000, 2]
type = ChangeState
trigger1 = numhelper(1996)= 0
trigger2 = helper(1996),stateno = 2001
trigger2 = helper(1996),time >= 30
triggerall = time >= 30
value = 0
ctrl = 1

;-------------------------------------------------------------------------------

[Statedef 1998]
type = A
;movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 120221

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 577777,0
volume = 999999999999999
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,1
volume = 999999999999999
channel = 5

[State 3000, Helper ]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(2002)=0
helpertype = Normal
ID = 2002
name = "2"
postype = p1
pos = 0,0
stateno = 22002
ownpal =0
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=1000
pausemovetime=1000

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -15,-20

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 10
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 1

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 11
range = 1,5

[State 0, ChangeState]
type = ChangeState
trigger1 = root,stateno = 1997
value = 1999

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [1996,1997]
value = 22001

;-------------------------------------------------------------------------------

[Statedef 1999]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
flag2 = timerfreeze
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1= 1
value = 2021
elem = var(10)
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-21
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim!= 2021
trigger1 = time = 0
trigger1 = prevstateno = 1998
value = 2021
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = time = 0
trigger1 = prevstateno != 1998
trigger1 = var(10) >= 5
v = 10 ; x
value = -3
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = var(10) <= 48
v = 10 ; x
value = 2
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = var(25) >= 300
trigger1 = root,var(12) > enemy,var(12)
v = 10 ; x
value = 3
ignorehitpause = 1

[State 0, varAdd]
type = VarSet
trigger1 = var(10) >= 50
v = 10 ; x
value = 50
ignorehitpause = 1

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(10) < 0
v = 10 ; x
value = 0
ignorehitpause = 1



[State 0, varAdd]
type = VarAdd
trigger1 = var(10)= [0,15]
trigger1 = var(11) <= 40
v = 11 ; y
value = 2
ignorehitpause = 1



[State 0, varAdd]
type = VarAdd
trigger1 = var(10)= [16,26]
trigger1 = var(11) <= 24
v = 11 ; y
value = 1
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = var(10)= [16,26]
trigger1 = var(11) >= 26
v = 11 ; y
value = -1
ignorehitpause = 1



[State 0, varAdd]
type = VarAdd
trigger1 = var(10)= [27,60]
trigger1 = var(11) <= 19
v = 11 ; y
value = 1
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = var(10)= [27,60]
trigger1 = var(11) >= 21
v = 11 ; y
value = -1
ignorehitpause = 1



[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(11) > 40
v = 11 ; y
value = 40
ignorehitpause = 1

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(11) < 0
v = 11 ; y
value = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = time = 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1999
time = -1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1
ignorehitpause = 1


[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno != 1998
trigger1 = p2stateno != [5000,5999]
trigger1 = root,stateno != [5000,5999]
anim = ifelse(random < 500,3345666,3345666)
ID = 7105
pos = var(10)*6,-10
postype = p1
random = 2,4
removetime = -2
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,-1,1)
scale = 0.212,0.242
sprpriority = 500
ontop = 1
ownpal = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno != 1998
trigger1 = p2stateno != [5000,5999]
trigger1 = root,stateno != [5000,5999]
anim = ifelse(random < 500,9922561,9922561)
ID = 7105
pos = var(10)*1,-13
postype = p1
random = 23,43
vel = -3,-3
removetime = -2
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,-1,1)
scale = .3,.3
sprpriority = 501
ontop = 1
ownpal = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno != 1998
trigger1 = p2stateno != [5000,5999]
trigger1 = root,stateno != [5000,5999]
anim = ifelse(random < 500,9922561,9922561)
ID = 7105
pos = var(10)*1,-13
postype = p1
random = 23,43
vel = -3,3
removetime = -2
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,1,-1)
scale = .3,.3
sprpriority = 501
ontop = 1
ownpal = 0
ignorehitpause = 1




[State 200,HitDef]
type=HitDef
trigger1= 1;timemod = 2,1
attr= S,HA
animtype=Light
damage= 10
guardflag=
hitflag= MADF
priority=1,hit
pausetime= 0,0
sparkno= -1
guard.sparkno= -1
sparkxy= 0,0
;hitsound= s5,0;ifelse(random < 250,0,11011)
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity= -1
air.velocity= -.3,-.7
guard.dist = 0
kill = 0
sprpriority = 1000

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno != 1998
trigger1 = p2stateno != [5000,5999]
trigger1 = root,stateno != [5000,5999]
anim = ifelse(random < 500,1122119,1122119)
ID = 7105
pos = var(10)*8,-13
postype = p1
random = 6,6
vel = -6,-0
removetime = 15
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,-1,1)
scale = .2,.2
sprpriority = 501
ontop = 1
ownpal = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno != 1998
trigger1 = p2stateno != [5000,5999]
trigger1 = root,stateno != [5000,5999]
anim = ifelse(random < 500,1122119,1122119)
ID = 7105
pos = var(10)*5,-13
postype = p1
random = 6,6
vel = -6,0
removetime = 15
supermovetime = 1000
pausemovetime = 1000
vfacing = ifelse(random < 500,1,-1)
scale = .3,.3
sprpriority = 501
ontop = 1
ownpal = 0
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
triggerall = var(10) <= 49
trigger1= root,command = "x"
trigger2= root,command = "y"
trigger3= root,command = "z"
trigger4= root,command = "a"
trigger5= root,command = "b"
trigger6= root,command = "c"
;trigger7= root,var(59) = 1
;trigger7= timemod = 7,0
;trigger8= root,var(59) = 1
;trigger8= time = 0
v = 10 ; x
value = 2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 25
value = root,time
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = p2stateno = [5000,5999]
value = 22000
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [1996,1997]
trigger3 = var(25) >= 200
trigger3 = var(10) <= 5
trigger4 = time >= 60
trigger4 = p2movetype != H
value = 22001
ignorehitpause = 1


;-------------------------------------------------------------------------------

[Statedef 22000]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = root,var(18)> 0
value = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 577777,0
volume = 999999999999999
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,1
volume = 999999999999999
channel = 5


[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(10) < 0
v = 10 ; x
value = 0

[State 0, varAdd]
type = VarSet
trigger1 = time >= 1
trigger1 = var(11) < 0
v = 11 ; y
value = 0

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent,var(12)>= 300
v = 12
value = 300

[State 0, varAdd]
type = VarAdd
trigger1 = var(10) <= 60
v = 10 ; x
value = 2

[State 0, varAdd]
type = VarAdd
trigger1 = var(11) <= 25
v = 11 ; y
value = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 17,-21
time = 4
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1


[State 0, HitOverride]
type = HitOverride
trigger1 = time = 0
attr =  SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 22000
time = -1

[State 0, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 3010, 2]
type = HitDef
trigger1 = Time %3 = 0 && Time <= 72
attr = A, HP
damage = 18
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 6 , Hit
sprpriority = 6
pausetime = 0, 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
;hitsound = S20, 0
guardsound = 65555, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 17
ground.velocity = -30,0
air.velocity = -5, -1
air.hittime = 20
air.fall = 1
fall.recover = 0



[State 3010, 3]
type = HitDef
trigger1 = Time = 73
attr = A, HP
damage = 80+(parent,var(12)*0.4)
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 7,Hit
sprpriority = 6
pausetime = 0, 20
guard.sparkno = -1
sparkno = -1
sparkxy = 0, 0
;hitsound = S1, 10
guardsound = 65555, 0
ground.type = High
ground.slidetime = 50
ground.hittime  = 20
ground.velocity = -10, -3
airguard.velocity = -5
air.type = High
air.velocity = -10, -4
air.hittime = 20
fall = 1
air.fall = 1
fall.recover = 0

[State 3010, 3]
type = HitDef
trigger1 = Time = 73
attr = A, HP
damage = 100+(parent,var(12)*0.4)
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 7,Hit
sprpriority = 6
pausetime = 0, 20
guard.sparkno = -1
sparkno = -1
sparkxy = 0, 0
;hitsound = S1, 10
guardsound = 65555, 0
ground.type = High
ground.slidetime = 50
ground.hittime  = 20
ground.velocity = -10, -3
airguard.velocity = -5
air.type = High
air.velocity = -10, -4
air.hittime = 20
fall = 1
air.fall = 1
fall.recover = 0
getpower = 0
givepower = 0

[State 6040, spark]
type=explod
trigger1 = Time %3 = 0 && Time <= 72
trigger1 = Movehit && (P2stateno=[5000,5999])
anim = 5212212
ID = 7105
sprpriority = 3
postype= p2
vfacing = ifelse(random < 500,-1,1)
vel =0,0
pos = 0,-15
random = 5,35
removetime = -2
ownpal = 0
removeongethit = 1
supermovetime = 1000
pausemovetime = 1000
bindtime = 1
scale = .5,.5

[State 6040, spark]
type=explod
trigger1 = Time %3 = 0 && Time <= 72
trigger1 = Movehit && (P2stateno=[5000,5999])
anim = 363543
ID = 7105
sprpriority = 3
postype = p2
vfacing = ifelse(random < 500,-1,1)
vel = 0,0
pos = 0,-15
random = 5,35
removetime = -2
ownpal = 0
removeongethit = 1
supermovetime = 1000
pausemovetime = 1000
bindtime = 1
scale = .5,.5

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 100
value = 22001
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
trigger2 = root,stateno != [1996,1997]
value = 22001

;-------------------------------------------------------------------------------

[Statedef 22001]
type = A
movetype = A
physics = N
velset = 0,0
anim = 120221
ctrl = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time <= 10
pos = 17,-22
ignorehitpause = 1

[State 0, varAdd]
type = VarAdd
trigger1 = time >= 1
trigger1 = var(11) >= 1
v = 11
value = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 80

;-------------------------------------------------------------------------------

[Statedef 22002]
type = A
physics = N
velset = 0,0
ctrl = 0
anim = 2020
SprPriority = 300

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = root,stateno = 1996
flag = invisible
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 5+(parent,var(10)*3.9),-5
time = 1000
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (parent,var(10))*0.0100,(parent,var(11))*0.015
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PalFX]
type = PalFX
trigger1 = parent,stateno = 22001
time = 100
mul = 256,256,256
sinadd = -256,-256,-256,400
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno = 22001
trigger1 = parent,time >= 70



[Statedef 5600]
type    = A
movetype= H
physics = N
velset = 0,0
;anim = 5030

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 8
freq = 50
ampl = -8
phase = 50
;ignorehitpause =
;persistent =

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 0
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5601


;------------------
[Statedef 5601]
type    = A
movetype= H
physics = N

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 8
freq = 50
ampl = -8
phase = 50
;ignorehitpause =
;persistent =


[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 0
movecamera = 0,0
;ignorehitpause =
;persistent =


[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 5602

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
[Statedef 5602]
type    = A
movetype= H
physics = N
;anim = 5030

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 8
freq = 50
ampl = -8
phase = 50
;ignorehitpause =
;persistent =

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 0
movecamera = 0,0
;ignorehitpause =
;persistent =


[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 5030

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0
volume = 999999999999999999999999999999999999999999

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 5603
;------------------
[Statedef 5603]
type    = A
movetype= H
physics = N
;anim = 5030

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 8
freq = 50
ampl = -8
phase = 50
;ignorehitpause =
;persistent =

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 0
movecamera = 0,0
;ignorehitpause =
;persistent =


[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100




[statedef 1923]
type = A
Movetype = I
physics = N
Anim = 120221
ctrl = 0

[State 0, PlaySnd]; sonido de choque
type = PlaySnd
trigger1 = numexplod(88345)=0
trigger1 = root,var(20)= 1
trigger1 = enemy,var(20)= 1
value = 3444,3444
volume = 9999999999999999999999999999999
channel = 5
loop = 1
ignorehitpause = 1

[State 0, PlaySnd]; sonido de choque
type = PlaySnd
trigger1 = numexplod(88345)=0
trigger1 = root,var(20)= 1
trigger1 = enemy,var(20)= 1
value = 0,4122111
volume = 999999999999999
channel = 9
loop = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(88345)=0
trigger1 = root,var(20)= 1
trigger1 = enemy,var(20)= 1
anim = 88345
ID = 96235
pos = 150,90
postype = left
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
scale = .7,.7
sprpriority = 100
ontop = 1
ownpal = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(20)= 0
trigger2 = enemy,var(20)= 0
id =88345

[State 0, StopSnd]
type = StopSnd
trigger1 = root,var(20)= 0
trigger2 = enemy,var(20)= 0
channel = 5
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = root,var(20)= 0
trigger2 = enemy,var(20)= 0
channel = 9
ignorehitpause = 1
;-------------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Chakra clones
[StateDef 30300]
type = S
movetype = I
physics = S
juggle = 0
anim = 30300
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 15
value = -500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
volume = 660
value = S0,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
volume = 880
value = S0,1

[State 883, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S1,5
volume = 800

[State 1700, Explod]
type = Explod
trigger1 = time = 15
anim = 17000;196
ID = 500
pos = -30,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = 30
scale = .5,.5
sprpriority = 3
removeongethit = 0
ownpal = 1

[State 1700]
type = Helper
trigger1 = time = 17
helpertype = player
name =  "chakra clone"
ID = 30310
stateno = 30310
pos = -30,0
ontop = 1
postype = p1
facing = 1
ownpal = 1

[State 1700, end]
type = ChangeState
trigger1 = Time = 20
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Clone
[StateDef 30310]
type = S
movetype = I
physics = S
priority=1
anim = 30311
ctrl =0


[State 830, sound2];sonido continuado
type = PlaySnd
trigger1 =((GameTime%100) = 0)
value = 1,25
;channel = 3

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 30310
ID = 3021
pos = 0,2
postype = p1
bindtime = -1
removetime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7198
ID = 3021
pos = 0,8
postype = p1
bindtime = -1
removetime = -1
scale = .2,.2
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2life = 0
trigger2 = parent,life = 0
trigger3 = parent,stateno = 30310
trigger3 = parent,stateno != 1020
trigger4 = win || lose || drawgame
trigger5 = stateno = 944
id = 3021

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 3

;[State 0, ChangeAnim]
;type = ChangeAnim
;trigger1 = power = 3000
;value = 30310
;elem = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = p2life = 0
trigger2 = parent,life = 0
trigger3 = parent,stateno = 30310
trigger3 = parent,stateno != 1020
trigger3 = var(0)=1
trigger4 = win || lose || drawgame
value = 947
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 1
stateno = 944
time = 1
forceair = 0

[State 0, ChangeAnim]
type = ChangeState
trigger1 = parent,var(0) != 2
value = 55009

;[State 0, ]
;type = Changestate
;trigger1 = parent, win
;value = 55009

[Statedef 947]
type = S
movetype = A
physics = S
anim = 0
sprpriority = 1
ctrl = 0
poweradd = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 17000
ID = 2999
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 10
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,9
volume = 0
channel = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 1

[Statedef 944]
type = S
movetype = A
physics = S
anim = 5050
sprpriority = 1
ctrl = 0
poweradd = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 1
stateno = 944
time = 1
forceair = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
x = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10
volume = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 5110
value = F7,1
volume = 0
channel = -1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = anim = 5110
anim = F60
ID = 71
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = -7
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = vel y = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y > 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 2
trigger1 = pos y = 0
value = 5110

[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = 17000
ID = 2999
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = .25,.4
sprpriority = 10
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S1,9
volume = 0
channel = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 60

;-----------------------------------------
[StateDef 55009]
type = S
movetype= A
physics = S
anim = 2310
velset = 0,0
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3021

[State 1700, Explod]
type = Explod
trigger1 = time = 0
anim = 17000
ID = 500
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = 30
scale = .2,.5
sprpriority = 3
removeongethit = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = 0
y = 6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40000
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40001
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40002
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40003
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40004
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40005
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40006
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40007
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40008
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40009
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40010
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40011
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40012
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40013
;ignorehitpause =
;persistent =

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 40113
;ignorehitpause =
;persistent =

[State 15008, end]
type = destroyself
trigger1 = time = 30


;-------------------------------------------------------------------------------
[Statedef 30000]
type = S
movetype = A
physics = S
anim = 30000
sprpriority = 1
velset = 0,0
poweradd = -3000
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 5212212
ID = 30004
pos = 5,-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 32
pausemovetime = 32
scale = 0.35,0.35
sprpriority = 9
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 875, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Nobardisplay

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 9922561
ID = 30003
pos = 4,-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 32
pausemovetime = 32
scale = 0.35,0.35
sprpriority = 9
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 5212212
ID = 30005
pos = 4,-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 32
pausemovetime = 32
scale = 0.35,0.35
sprpriority = 9
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,15
volume = 200
channel = -1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 48
add = 0,0,0
mul = 0,0,0
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
;ignorehitpause =
;persistent =

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 30002


;-------------------------------------------------------------------------------
[statedef 30002]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 30001
sprpriority = 2


[State 845, 1]
type = HitDef
trigger1 = animelem = 1
attr = S, SA
damage = 0, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 545
sparkxy = -10, -26
hitsound = S5, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -50
guard.velocity = 0
airguard.velocity = -2,-.8
air.type = High
air.velocity = 0
air.hittime = 12
ground.cornerpush.veloff = 0
p2stateno = 9500

[State Change]
type = ChangeState
trigger1 = anim = 30001 && AnimTime = 0
value = IfElse(movehit,30003,0)
ctrl = IfElse(movehit,0,1)

;----------------------------------------------------------------------
[statedef 30003]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 30002
poweradd = -3000
sprpriority = 1

[state 0]
type = changeanim
trigger1 = time = 320
value = 30003

[State 200, 1]
type = PlaySnd
trigger1 = !Time
value = 6, 8
volume = 500



[State explod]
type = Explod
trigger1 = time = 2
anim = 3067
id = 3
sprpriority = 0
postype = left
pos = 170,110
bindtime = -1
removetime = 700
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
ownpal = 1
scale = .75,.75

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 30

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 30
time = 850
add = 0,0,0
mul = 0,0,0
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7998
ID = 1
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 356490
ID = 1
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = .5,.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7910
ID = 1
pos = 2,-2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = .5,.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S9,1
volume = 256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
trigger1 = time >= 90
value = 9,2
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
trigger1 = time >= 90
value = 9,2
volume = 100

[State 842, Helper]
type = Helper
trigger1 = !time
helpertype = normal
name = "kurama"
ID = 30004
stateno = 30004
postype = p1
facing = 1
ownpal = 1
pos = 0,0
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1.5
size.yscale = 1.5

[State 839, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Nobardisplay

[State 839, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 2411122
ID = 2
pos = -30,25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermove = 9999
pausemove = 9999
scale = .5,.5
sprpriority = 2
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 2411122
ID = 2
pos = -5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermove = 9999
pausemove = 9999
scale = .5,.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 30009
ID = 1
pos = 55,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = .5,.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9997999
ID = 1
pos = 55,-80
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 9999
pausemove = 9999
scale = 0.6,0.6
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =
;persistent =




[State 842, PlaySnd]
type = PlaySnd
trigger1 = time = 20
channel = 8
value = S9, 2

[State 842, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S9, 3
channel = 9
loop = -1


[State 842, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S9, 0

[State 842, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S9, 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 240
value = S9,7
volume = 500

[State 842, ChangeState]
type = ChangeState
trigger1 = time = 340
value = 30005


;----------------------------------------------------------------------
[statedef 30004]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 30007
poweradd
sprpriority = 0

[State 835, PalFX]
type = PalFX
trigger1 = !time
time = -1
add = 255,70,37
mul = 255,253,188
sinadd = 110,55,85,10
invertall = 0
color = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 410
;ignorehitpause =
;persistent =


;----------------------------------------------------------------------
[statedef 30005]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 30003
poweradd = -3000
sprpriority = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1
;ignorehitpause =
;persistent =

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 30
time = 850
add = 0,0,0
mul = 0,0,0
;sinadd = 0,0,0,10
;invertall = 0
;color = 256
;ignorehitpause =
;persistent =


[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 9
;ignorehitpause =
;persistent =

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 8
;ignorehitpause =
;persistent =

[State 842, Helper]
type = Helper
trigger1 = !time
helpertype = normal
name = "bijuu dama"
ID = 30006
stateno = 30006
postype = p1
facing = 1
ownpal = 1
pos = 5,-80
supermovetime = 9999
pausemovetime = 9999
size.xscale = 2
size.yscale = 2


[State 842, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S9, 4

[State 839, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Nobardisplay

[State 839, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 70
value = 255,255,255
time = 30

[State 842, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S1, 9

[State 842, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1600, 4

[State 842, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 30007

;----------------------------------------------------------------------
[statedef 30006]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 30011
sprpriority = 0

[State 9023, HitDef]
type = HitDef
trigger1 = timemod = 3,0
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = low
air.animtype = low
priority = 4,Hit
damage = 50,0
pausetime = 0,4
sparkno = S5555
sparkxy = 10,-25
guardsound = 6,0
guard.velocity = -5
ground.type = High
ground.slidetime = 4
ground.hittime = 12
ground.velocity = 0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 0
air.hittime = 12
air.slidetime = 4
fall = 1
fall.recover = 0
palfx.time = 65
palfx.add = 254,141,49
palfx.mul = 256,256,256
palfx.sinadd = 130,110,110,5
palfx.invertall = 0
palfx.color = 0
envshake.time = 2
envshake.freq = 35
envshake.ampl = -3
envshake.phase = 60

[State 842, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S1, 24

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 70
;ignorehitpause =
;persistent =

;----------------------------------------------------------------------
[statedef 30007]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
anim = 19000
sprpriority = 1

[State 1400, VarSet]
type = VarSet
trigger1 = time = 0
var(0) = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = 20
mul = 256,256,256
sinadd = 170,170,170,40
invertall = 0
color = 256

[State 0, PalFXWiz]
type = BGpalFX
trigger1 = time = 0
;trigger2 = time = 155
time = 15
mul = 256,256,256
sinadd = 20,20,20,30
invertall = 0
color = 256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 3

[State 842, ChangeState]
type = ChangeState
trigger1 = time = 200
value = 19000
ctrl = 1


;----------------
;-------------------------------------------------------------------------------
[Statedef 20200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 20200
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 3

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 15, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = -1
sparkxy = 15, -40
hitsound = S5,20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-2
air.hittime = 5

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "Circle"
ID = 6200
stateno = 6200
pos = -5,-30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 999
size.xscale = 0.2
size.yscale = 0.2

[State 200, 1]
type = PlaySnd
trigger1 = !Time
value = 6, 37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S3,3
volume = 600

[State Change]
type = ChangeState
trigger1 = time > 6
triggerall = movecontact
trigger1 = command = "a"
value = 20201

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 20201]
type = S
movetype = I
physics = S
anim = 20201
sprpriority = 0
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 243443
id = 20101
pos = -5,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = .25,.25
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 243443
id = 20101
pos = -5,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = .25,.25
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S3,3
volume = 600

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = p2dist x+50
y = p2dist y

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S6,37
volume = 150
channel = -1
freqmul = .7

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 2
value = 20210

;-------------------------------------------------------------------------------
[Statedef 20210]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 20210
poweradd = 20
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 3

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 15, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 30
sparkno = -1
sparkxy = 15, -45
hitsound = S5,20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 5

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "Circle"
ID = 6200
stateno = 6200
pos = 30,-30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 999
size.xscale = 0.2
size.yscale = 0.2

[State 200, 1]
type = PlaySnd
trigger1 = !Time
value = 6, 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S3,3
volume = 600

[State Change]
type = ChangeState
trigger1 = time > 6
trigger1 = command = "a"
value = 20220

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 20220]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 20220
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 3

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 15, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 100
sparkno = -1
sparkxy = 15, -40
hitsound = S5,20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 5

[State 200, 1]
type = PlaySnd
trigger1 = !Time
value = 6, 5

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "Slash"
ID = 6200
stateno = 6200
pos = 30,-25
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 999
persistent = 0

[State Change]
type = ChangeState
trigger1 = time > 6
triggerall = movecontact
trigger1 = command = "a"
value = 20221

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 20221]
type = S
movetype = I
physics = S
anim = 20201
sprpriority = 0
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 243443
id = 20101
pos = -5,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = .25,.25
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 243443
id = 20101
pos = -5,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = .25,.25
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 822, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S1,3
volume = 400

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = p2dist x+30
y = p2dist y

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S6,37
volume = 150
channel = -1
freqmul = .7

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 2
value = 20230

;-------------------------------------------------------------------------------
[Statedef 20230]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 20230
poweradd = 20
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 3

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 20, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = -1
sparkxy = 15, -45
hitsound = S5,20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 5

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "Circle"
ID = 6200
stateno = 6200
pos = 0,-45
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 999
size.xscale = 0.2
size.yscale = 0.2

[State 200, 1]
type = PlaySnd
trigger1 = !Time
value = 6, 3

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State Change]
type = ChangeState
trigger1 = time > 6
trigger1 = command = "a"
value = 20240

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 20240]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 20240
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 20, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = 15, -45
hitsound = S5,20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -6,-10
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 5
fall = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "Circle"
ID = 6200
stateno = 6200
pos = 33,-45
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 999
size.xscale = 0.2
size.yscale = 0.2

[State 200, 1]
type = PlaySnd
trigger1 = !Time
value = 6, 3

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State Change]
type = ChangeState
trigger1 = time > 6
triggerall = movecontact
trigger1 = command = "a"
value = 20241

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 20241]
type = S
movetype = I
physics = S
anim = 20201
sprpriority = 0
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 243443
id = 20101
pos = -5,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = .25,.25
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 243443
id = 20101
pos = -5,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = .25,.25
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 822, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S1,3
volume = 400

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = p2dist x-45
y = p2dist y-5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S6,37
volume = 150
channel = -1
freqmul = .7

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 2
value = 20250

;-------------------------------------------------------------------------------
[Statedef 20250]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 20250
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 6
y = -2

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
damage = 15, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = 15, -45
hitsound = S5,21
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -5,-3
air.hittime = 5
fall = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "Circle"
ID = 6200
stateno = 6200
pos = 45,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 999
size.xscale = 0.2
size.yscale = 0.2

[State 200, 1]
type = PlaySnd
trigger1 = !Time
value = 6, 9

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 20450]
type    = S
movetype= I
physics = S
sprpriority = 4
ctrl = 0
velset = 0,0
anim = 1701

[State 883, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
value = S1,11
volume = 1000

[State 883, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = S1,15
volume = 1000

[State 883, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = S6,11
volume = 1000

[State 883, Helper]
type = Helper
trigger1 = Time = 22
helpertype = normal
name = "Gamahiro"
ID = 20451
stateno = 20451
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 883, ChangeState]
type = ChangeState
trigger1 = Time = 35
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 20451]
type = S
movetype = A
physics = S
anim = 1702
sprpriority = 1
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2dist x
y = p2dist y-300

[State Hit]
type = HitDef
trigger1 = !time
attr = S,NA
damage = 0,0
ground.type = Low
air.type = Low
hitsound = S5,9
pausetime = 0,0
ground.hittime = 20
air.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
p1sprpriority = 2
p2sprpriority = 1
sparkno = -1
sparkxy = -15,-30
fall = 1
fall.recover = 0
p2stateno = 20452

[State 0, VelSet]
type = VelSet
trigger1 = time >= 10 && pos y < 0
x = 0
y = 20

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, changestate]
type = changestate
trigger1 = pos y >= 0
value = 20453
;---------------------------------------------------------------------------
[Statedef 20452]
type = S
movetype = H
physics = S
velset = 0,0
sprpriority = 1
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PosSet]
type = PosSet
trigger1 = enemy,pos y < 0
x = enemy,pos x-10
y = enemy,pos y+10

[State 0, LifeAdd]
type = LifeAdd
trigger1 = !time
value = -300
kill = 1

[State 0, SelfState]
type = SelfState
trigger1 = enemy,pos y >= 0
value = 5110
ctrl = 0

;-------------------------------------------------------------------------
[Statedef 20453]
type = S
movetype = A
physics = S
poweradd =-1000
anim = 1702
sprpriority = 20
ctrl = 0
poweradd = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,24

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 356499
ID = 6195
pos = 0,2
postype = p1
removetime = -2
scale = 1,1
ontop = 0
sprpriority = 0
pausemovetime = 9999
supermovetime = 9999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 45
anim = 17000
ID = 10181
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 2,2
sprpriority = 3
ontop = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 30
freq = 90
ampl = -6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 50
;---------------------------------------------------------------------------
;Chakra
[Statedef 29997]
type = S
movetype = I
physics = N
anim = 4021
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 128,256

[State 0, PalFXWiz]
type = PalFX
trigger1 = time%20 = 0
time = 21
add = 100,30,0
mul = 256,256,0
sinadd = 40,30,0,10
invertall = 0
color = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.3,0.6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != 29999
trigger2 = parent, time = 350*(parent,var(6))/2

;---------------------------------------------------------------------------
;Air Rasengan
[StateDef 31400]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 0
sprpriority = 2
ctrl = 0
anim = 31400

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "rasengan"
ID = 31450
stateno = 31450
pos = -6,-60
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = pos x

[State 1201, 1]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
trigger5 = animelem = 7
trigger6 = animelem = 8
trigger7 = animelem = 9
trigger8 = animelem = 10
trigger9 = animelem = 11
trigger10 = animelem = 12
attr = S, NA
damage = 10
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 5
sparkno = -1
sparkxy = 0, 0
hitsound = S0, 35
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 31410
fall = 1
fall.recover = 1
fall.recovertime = 50

[State 0, Explod]
type = Explod
trigger1 = movecontact && time%8 = 0
anim = 2520+random%4
ID = 2520
pos = -9,-1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 5
removeongethit = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 105
ID = 2520

[State 2100]
type = EnvShake
trigger1 = movehit = 1
time = 10
freq = 80
ampl = 5
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,10
volume = 1000

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, Explod]
type = Explod
trigger1 = pos y >= -9 && movehit
trigger1 = numexplod(31450) = 0 && time < 100
anim = 31450
ID = 31450
pos = 5,-(pos y - 5)
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -1
sprpriority = 6
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 105
ID = 31450

[State 0, VelSet]
type = VelSet
trigger1 = vel y < 0 || pos y >= -9
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 8 && pos y < -9
y = 0.5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 100
value = 31410

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 110
value = 105
ctrl = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time <= 100
value = -8

[State 0, Turn]
type = Turn
trigger1 = time = 109 && facing =0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= -9 && !movehit
value = 51
ctrl = 1

;---------------------------------------------------------------------------
;Opponent state
[StateDef 31410]
type = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
anim = 5080
poweradd = 0
sprpriority = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = enemynear, var(9) -10

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = enemynear, pos y + 8

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = P1Name = "Naruto Uzumaki"
trigger1 = time = 0
value = 5080 + var(0)*10000

[State 2006, ChangeState]
type = SelfState
trigger1 = time = 10
value = 5000
ctrl = 1

;---------------------------------------------------------------------------
;Air Rasengan  (rasengan)
[StateDef 31450]
type    = S
movetype= I
physics = S
juggle  = 2
poweradd= 0
sprpriority = 3
ctrl = 0
anim = 2006

[State 1700, Explod]
type = Explod
trigger1 = time = 0
anim = 31451
ID = 31451
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
ownpal = 1
vel = 0,6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = parent, stateno != 31400
ID = 2004

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, animelem = 1
time = 3
pos = -6,-60

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, animelem = 2
time = 3
pos = -7,-15

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, animelem = 3
time = 3
pos = -8,-14

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, animelem = 4
time = 100
pos = -7,-1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 100
scale = 1-(time-100)*0.04,1-(time-100)*0.04

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != 31400
;-------------------------------------------------------------------------------
; Kuchiyose No Jutsu: Fukasaku+Shima: Frog Song
;-------------------------------------------------------------------------------
[Statedef 10400]
type    = S
movetype= I
physics = S
sprpriority = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 10300

[State 883, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,15
volume = 1000

[State 883, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 12
value = S1,11
volume = 1000

[State 883, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 20
value = S6,11
volume = 1000

[State 883, Explod]
type = Explod
trigger1 = Time = 78
anim = 17000
ID = 196
pos = 50,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.25
sprpriority = 3
ontop = 0
ownpal = 1

[State 883, Explod]
type = Explod
trigger1 = Time = 75
anim = 1850
ID = 196
pos = -8,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.25
ontop = 1

[State 883, PlaySnd]
type = PlaySnd
trigger1 = time = 78
value = S1,5
volume = 800

[State 883, Helper]
type = Helper
trigger1 = Time = 90
helpertype = normal
name = "Fukasaku,Shima"
ID = 10401
stateno = 10401
pos = 50,2
postype = p1
facing = 1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 883, ChangeState]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 10401]
type    = S
movetype= I
physics = S
sprpriority = 2
poweradd = 0
ctrl = 0
velset = 0,0
anim = 10301

[State 10884, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S6,24
channel = 10
volume = 1000

[State 10884, EnvShake]
type = EnvShake
trigger1 = AnimElem = 29
trigger2 = AnimElem = 30
time = 5
freq = 60
ampl = -4
phase = 90

[State 10884, Helper]
type = Helper
trigger1 = time = 95
helpertype = normal
name = "Frog Song"
ID = 10402
stateno = 10402
pos = -15,-10
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 318
channel = 10

[State 10884, PlaySnd]
type = PlaySnd
trigger1 = time = 318
value = S1,5
volume = 800

[State 10884, Explod]
type = Explod
trigger1 = Time = 315
anim = 17000
ID = 196
pos = 0,-6
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 10884, ChangeState]
type = DestroySelf
trigger1 = Time = 320

;-------------------------------------------------------------------------------
[Statedef 10402]
type    = S
movetype= A
physics = S
sprpriority = 100
poweradd = 0
ctrl = 0
velset = 0,0
anim = 10302

[State 10885, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 10885, 1]
type = HitDef
trigger1 = timemod = 3,0
attr = S, NA
damage = 2,0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 0, 190
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 0,0
air.hittime = 12
palfx.time = 185
palfx.add = 140,200,0
palfx.mul = 120,120,0
palfx.sinadd = 100,55,50,10
palfx.invertall = 0
palfx.color = 0
numhits = 0

[State 10885, DestroySelf]
type = DestroySelf
trigger1 = time = 210

;------------------
;-------------------------------Hyper-Art-Genjutsu------------------------------
[Statedef 10999]
type = S
ctrl = 0
anim = 385
velset = 0,0
movetype = A
poweradd = -500
physics = S
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 100
anim = -1
pos = 0,0
movetime = 100
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 5,-35
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999



[State 0, VarAdd]
type = VarAdd
trigger1 = time = 90-var(20)*20 ;var(12)----->var(20)
trigger2 = time = 150-var(20)*40
v = 20
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9,6
volume = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S13,8
volume = 100

[State 10999, end]
type = ChangeState
trigger1 = !animtime
value = 101000
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 101000]
type = S
ctrl = 0
anim = 400
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(20)*20 || time = 50-var(20)*30
time = 30
freq = 60
ampl = -2


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 40-var(20)*20 || time = 120-var(20)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 70-var(20)*40 && timemod = 30,0
time = 30
freq = 90
ampl = -3

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,8]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 8
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 101002
ID = 101002
pos = -17,-35
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.12,0.12
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time >= 120 && timemod = 30,0
anim = 101003
ID = 101002
pos = -17,-35
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.12,0.12
ontop = 1
supermovetime = -1
pausemovetime = -1


[State 0, Explod]
type = Explod
trigger1 = var(21) >= 170
trigger1 = timemod = 20,0
anim = 1850
ID = 101002
pos = -22,-30
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.2,0.2
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time > 200
trigger1 = timemod = 20,0
anim = 1850
ID = 101002
pos = -22,-30
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = .5,.5
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = timemod = 20,0
anim = 229
ID = 101002
pos = 0,0
postype = p1
removetime = -2
bindtime = -1
removeongethit = 1
scale = 0.5,0.5
ontop = 0
supermovetime = -1
pausemovetime = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 21
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(21) >= 230
v = 21
value = 230

[State 0, VarSet]
type = Varadd
trigger1 = var(21) <= 229
v = 21
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S21,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 100
trigger1 = timemod = 33,0
value = S21,1
volume = 0
channel = -1
;loop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 100
trigger1 = timemod = 33,0
value = S21,3
volume = 0
channel = -1
;loop = 1

;[State 0, StopSnd]
;type = StopSnd
;trigger1 = command != "hold_c"
;channel = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -5

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, Helper]
type = Helper
trigger1 = !time
helpertype = normal ;player
name = "AfterImage"
ID = 8003
stateno = 8003
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermove
pausemove

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !command = "hold_c"
bindtime = -1
id = 101002


[State 400, end]
type = ChangeState
trigger1 = command != "hold_c"
value = 101005
ctrl = 1

;--------------------------ChoOdama-Rasengan------------------------------------
[StateDef 101005]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 101006
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelemtime(1) = 5
time = 5
freq = 122
ampl = -3
phase = 45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S33,1
volume = 256
channel = -1
abspan = ceil(150)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S13,0
volume = -256
channel = -1

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 10
add = -100,-100,-100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, VelSet]
type = VelSet
trigger1 = time > 5 && backedgedist > 10
x = -14

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
y = -14

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "ChoOdama-Rasengan"
ID = 101008
stateno = 101008
pos = -10,-30
postype = p1
pausemovetime = 99999
supermovetime = 99999
facing = 1
ownpal = 0



[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 6
statetype = A       ;S,A,C,L
movetype = A
physics = A         ;A,C,S,N

[State 0, ChangeState]
type = ChangeState
trigger1 = backedgedist <= 10 && vel x != 0
trigger2 = vel x = 0 && time = 30
value = 101006
ctrl = 0
;-------------------------------------------------------------------------------
[StateDef 101006]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 101007
sprpriority = 2

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 10
add = -100,-100,-100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(16)=(EnemyNear(0),Pos X-Pos X)*Facing   ;13--->16

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(17)=(EnemyNear(0),pos Y-Pos Y)        ;14--->17

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(18)=Exp(0.5*ln((fvar(16)*fvar(16))+(fvar(17)*fvar(17))))   ;15--->18

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 101007
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 101007]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 101008
sprpriority = 2

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 10
add = -100,-100,-100

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, VelSet]
type = VelSet
trigger1= helper(101008), movecontact = 0
x = (Fvar(16))/(fvar(18))*15
y = (FVar(17))/(fvar(18))*15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = anim = 101008
value = 320

[State 0, VelSet]
type = VelSet
trigger1= helper(101008), movecontact
x = 0.25
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 200
value = 105
ctrl = 1
;--------------------
;-------------------------------------------------------------------------------
[StateDef 101008]
type = S
movetype = A
physics = S
anim = 101003
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
triggerall = parent, stateno = 101005
trigger1 = parent, animelem = 1
;trigger2 = parent, animelem = 2
time = 5
pos = -5,-70

[State 0, BindToParent]
type = BindToParent
triggerall = parent, stateno = 101005
trigger1 = parent, animelem = 2
;trigger2 = parent, animelem = 2
time = 30
pos = 0,-83

[State 0, BindToParent]
type = BindToParent
triggerall = parent, stateno = 101006
trigger1 = parent, animelem = 1
trigger2 = parent, animelem = 3
time = 10
pos = 60,0

[State 0, BindToParent]
type = BindToParent
triggerall = parent, stateno = 101006
trigger1 = parent, animelem = 2
time = 10
pos = 55,11
;-------------------------------------------------------------------------------
[State 0, AngleDraw]
type = AngleDraw
trigger1 = parent, stateno = 101005
scale = 0.4,0.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = parent, stateno = 101006
scale = 0.4,0.4
;-------------------------------------------------------------------------------
[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 101005
trigger1 = parent, stateno != 101006
trigger1 = parent, stateno != 101007
value = 101009

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 101007
value = 101010
;-------------------------------------------------------------------------------
[StateDef 101009]
type = S
physics = S
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 19
value = S21,6
volume = 256
channel = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5-time*0.025,0.5-time*0.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*5.12,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20
;-------------------------------------------------------------------------------
[StateDef 101010]
type = S
movetype = A
physics = S
anim = 101003
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(20)*20 || time = 50-var(20)*30
time = 30
freq = 60
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 40-var(20)*20 || time = 120-var(20)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 70-var(20)*40 && timemod = 30,0
time = 30
freq = 90
ampl = -3

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 200
pos = parent,vel x*6.5+25,parent,vel y*6.5-15


[State 217, 2]
type = HitDef
trigger1 = timemod = 6,2
attr = S, NA
hitsound = s33,2
guardsound = s33,2
damage    = 17,17
hitflag = MADF
guardflag =
sparkno = -1
sparkxy = 0,0
pausetime = 0,20
ground.type = low
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = -3,-11
air.velocity = -3,-11
fall = 1
guard.dist = 0
palfx.time = 60
palfx.add = 100,100,180
palfx.mul = 256,256,256
palfx.sinadd = -80,-80,-80,10
palfx.invertall = 0
palfx.color = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 101005
trigger1 = parent, stateno != 101006
trigger1 = parent, stateno != 101007
value = 101009
;-------------------------------------------------------------------------------
[Statedef 8003]
type = S
movetype = I
physics = S
sprpriority = 15
velset = 0,0
ctrl = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = parent,anim
elem = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.00+time/25.00,1.00+time/25.00

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*8,time*8

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 15

;----------
; FINGER RASENSHURIKEN
[StateDef 623451]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 623451
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
volume = 100
value = 2,44

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time >= 20
trigger1 =((GameTime%35) = 0)
value = 2,45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 4
value = S13,2
channel = 13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S2,43
channel = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = S3333,3233333
volume = -11
channel = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S1,551
volume = 999999999999999999999999999999999999990
channel = -1

[State 0, EnvShake]
type = EnvShake
triggerall = time = [20,275]
trigger1 = timemod = 10,0
trigger1 = time >= 90
time = 5
freq = 90
ampl = -2
phase = 90
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S2,5
volume = 999999999999999999999999999999999999990
channel = -1

[State 3195, Explod]
type = Explod
trigger1 = time = 5
anim = 3024
ID = 514
pos = -10,-40
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1
ownpal = 0
removeongethit = 1

[State 3195, Explod]
type = Explod
trigger1 = time = 100
anim = 523456
ID = 523456
pos = -7,-45
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
scale = .2,.2
ontop = 1
ownpal = 0
removeongethit = 1

[State 3195, Explod]
type = Explod
trigger1 = time = 90
anim = 356499
ID = 356499
pos = 1,1
postype = p1  ;p2,front,back,left,right
bindtime = -1
scale = .2,.2
removetime = -1
ontop = 0
ownpal = 0
removeongethit = 1

[State 3195, end]
type = ChangeState
trigger1 = command != "hold_b" &&   Time < 100
value = 0
ctrl = 1

[State 3195, end]
type = ChangeState
trigger1 = command != "hold_b"  &&   Time >= 100
value = 623461

[StateDef 623461]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 623452
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9
volume = 9999
value = 13,2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 523456

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 356499

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal ;player
name = "Finger Rasen Shuriken"
ID = 623452
stateno = 623452
pos = 34,-25
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 0


[State 3195, end]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1


[StateDef 623452]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 523457
poweradd = -500
sprpriority = 5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .2,.2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 7

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 5235252
ID = 5235252
pos = 0,30
postype = p1
bindtime = -1
removetime =  80
scale = .15,.15
sprpriority = 0
ontop = 0
ownpal = 0
removeongethit = 1

[State 500, 1]
type = HitDef
trigger1 = time= 0
attr = A, HP
damage = 0
animtype = Hard
guardflag = MA
hitflag = MADF
priority = 7, Hit
pausetime = 0,13
sparkno = 4444
sparkxy = 4444,4444
hitsound = 4444,4444
guardsound = 4444,4444
ground.type = High
ground.slidetime = 0
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 501
sprpriority = 5
p1stateno =  623453

[State 500, end]
type = destroyself
trigger1 = Time = 120


[StateDef 623453]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7235253
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 6,67

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = 14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 13,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S222,9
volume = 9999999999999999999999999999999999999999999999
channel = -1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -15
;ignorehitpause =
;persistent =


[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 1
id = -1
pos = 0,-30
;ignorehitpause =
;persistent =


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3443333,4
volume = 999999
channel = -1
loop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S3443333,2
volume = -49
channel = -1
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 150
channel = -1
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 1303, 1]
type = HitDef
trigger1 = timemod = 3,0
attr = S, SA
affectteam = B
damage = 2,1
animtype = medium
hitflag = MAF
priority = 3, Hit
pausetime = 0,8
sparkno = -1
sparkxy = 555,555
hitsound = 555,555
guardsound = 555,555
ground.type = High
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = 0
guard.velocity = -1
airguard.velocity = -2,-.8
air.type = High
air.velocity = 0
air.hittime = 12
ground.cornerpush.veloff = 0
getpower = 0
givepower = 0


[State 1303, 1]
type = HitDef
trigger1 = time = 149
attr = S, SA
affectteam = B
damage = 150,75
animtype = medium
hitflag = MAF
priority = 3, Hit
pausetime = 0, 8
sparkno = -1
sparkxy = 555,555
hitsound = 555,555
guardsound = 555,555
ground.type = High
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = 0
guard.velocity = -10
airguard.velocity = -10,-10
air.type = High
air.velocity = -10,-10
air.hittime = 12
p2stateno = 5600
fall = 1
ground.cornerpush.veloff = 0

[State 0, EnvShake]
type = EnvShake
triggerall = time = [0,150]
trigger1 = timemod = 10,0
trigger1 = time >= 0
time = 5
freq = 110
ampl = -2
phase = 110
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = time = 3150
helpertype = normal
ID = 523456
stateno = 523456
pos = 66666,66666
postype = p1
facing = 1
keyctrl = 0
ownpal = 0


[State 1602, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 1600,4

[State 1602, PlaySnd]
type = PlaySnd
trigger1 = time =150
value = 13,2
volume = 9999


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =356499
ID = 356499
pos = 0,-7
postype = p1
bindtime = -1
removetime = 150
scale = .6,.4
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 150

[Statedef 523456]
type = S
movetype = I
physics = S
anim = 8030
sprpriority = -10
ctrl = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 25
freq = 125
ampl = -15
phase = 155
;ignorehitpause =
;persistent =

[State 523455, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2
volume = 9999999999999999999999999999999999999
channel = 1

[State 0, AllPalFX]
type = AllPalFX
trigger1 = 1
time = 1
add = 256-time*8,256-time*8,256-time*8
mul = 256,256,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 32


;-------------------------------------------------------------------------------

[Statedef -2]

[State 0, Explod]
type = Explod
trigger1 = var(0) = 1
trigger1 = timemod = 10,0
anim = 9020
ID = 9020
pos = 0,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
random = 0,45
vel = -2,-1
scale = .2,.2
ontop = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = power = 0
id = 44
;ignorehitpause =
;persistent =

;bunshins
[State 0, ycie]
type = changestate
trigger1 = ishelper(52050) && parent, stateno != 2000 && parent, stateno != 2002 && parent, stateno != 2004
trigger2 = ishelper(52050) && var(10) > 100 && stateno !=52050
trigger3 = ishelper(20000) && var(10) > 50 && stateno !=55009
trigger4 = ishelper(30310) && var(10) > 50 && stateno !=55009
triggerall = ishelper
value = ifelse(ishelper(52050),2051,55009)

[State 0, rasen klon obrt]
type = Turn
triggerall = ishelper(52050)
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, ycie klona]    --
type = Varadd
trigger1 = ishelper(52050)
trigger2 = ishelper(20000)
trigger3 = ishelper(30310)
triggerall = ishelper
v = 10
value = gethitvar(damage)

[State 0, ycie]
type = LifeAdd
trigger1 = !ishelper
trigger1 = numhelper(2089) != 0
value = -(helper(2089), var(1))

[State 0, ycie]
type = changestate
trigger1 = ishelper(20000) && parent, stateno = 2500 && stateno !=55009
trigger1 = stateno != 2500 && stateno != 2520 && stateno != 2505 && stateno != 2510 && stateno != 2515
triggerall = ishelper
trigger1 = var(0) = 0
value = 2520

;Harem jutsu and transform

[State 0, ]
type = Changestate
trigger1 = parent, stateno = 1250 && numhelper(1251) = 1
trigger1 = ishelper(20000)
trigger1 = stateno != 55100
triggerall = ishelper
value = 55100

[State 0, ]
type = Changestate
trigger1 = parent, var(0) = 1
trigger1 = stateno != 55009
trigger1 = ishelper(20000)
triggerall = ishelper
value = 55009

;-------------------------------------------

;[State -2, Helper]
;type = Helper
;trigger1 = numhelper(1923)=0
;helpertype = Normal
;ID = 1923
;name = "mashin rikudo bomb"
;ostype = left
;os = 0,0
;stateno = 1923
;ownpal = 0
;keyctrl = 0
;size.xscale= 1
;size.yscale= 1
;supermovetime=99999
;pausemovetime=99999

;normal
[state -2, Normal Chakra]
type = powerset
trigger1 = var(0) = 0 && stateno != 29999
trigger1 = power > 3000
trigger1 = !ishelper
value = 3000

;sage
[State 0, liczba sagw]
type = VarSet
trigger1 = var(6) = 0
v = 6
value = 2

[State -2, VarSet]
type = VarSet
trigger1 = stateno != [1996,1997]
v = 12
value = 0

[State -2, VarSet]
type = VarSet
trigger1 = stateno = 1997
v = 20
value = 1

[State -2, VarSet]
type = VarSet
trigger1 = stateno != 1997
v = 20
value = 0


[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = power = 0
id = 44
;ignorehitpause =
;persistent =

[State -2, StopSnd]
type = StopSnd
trigger1 = stateno = [5000,5999]
trigger2 = power = 0
channel = 13
;ignorehitpause =
;persistent =

[State -2, StopSnd]
type = StopSnd
trigger1 = stateno = [5000,5999]
trigger2 = power = 0
channel = 12
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = stateno = [3090,4999]
flag = roundnotover
flag2 = timerfreeze

[State 0, ScreenBound]
type = ScreenBound
trigger1 = p2name = "Eggman"
value = 1
movecamera = 0,0


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
trigger1 = numhelper(2090)>= 1
flag = globalnoshadow

;[State 0, chacra infinito para naruto AI]
;type = PowerAdd
;triggerall = var(59) = 1
;trigger1 = life <= (LifeMax/2)
;trigger1 =((GameTime%2) = 0)
;value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = IsHelper
trigger1 = numhelper(2020)>= 1
value = 0
movecamera = 0,0


;---------------------------------------------------------------------------
;Para que se vea el icono de choque
;---------------------------------------------------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = stateno = 2012
trigger2 = stateno = 2042
v = 20
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 2012
trigger1 = stateno != 2042
v = 20
value = 0

[State 3000, Helper Projetil]
type = Helper
trigger1 = teamside = 1
trigger1 = numhelper(88345)=0
helpertype = Normal
ID = 88345
name = "boton apretandoce"
postype = left
pos = 0,0
stateno = 88345
ownpal = 1
keyctrl = 0
size.xscale= 1
size.yscale= 1
supermovetime=99999
pausemovetime=99999


[statedef 88345]
type = A
Movetype = I
physics = N
Anim = 2022
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = numexplod(88345)=0
trigger1 = root,var(20)= 1
trigger1 = enemy,var(20)= 1
anim = 88345
ID = 88345
pos = 20,70
postype = left
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(88346)=0
trigger1 = root,var(20)= 1
trigger1 = enemy,var(20)= 1
anim = 88345
ID = 88346
pos = -20,70
postype = right
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
scale = .5,.5
sprpriority = 100
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(20)= 0
trigger2 = enemy,var(20)= 0
id = 88345

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(20)= 0
trigger2 = enemy,var(20)= 0
id = 88346




[Statedef -3]
;-------------------------------------------------------------------------------

[State -3, Variables]
type = DisplayToClipboard
trigger1 = 1
text = "Poder del rasengan:%d,Choque:%d,Choque kamehameha:%d "
params = Var(10),Var(15),Enemy,Var(12)

;-------------------------------------------------------------------------------
[State -3,Explod]
type = Explod
triggerall = stateno = 70
trigger1 = time = 1
anim = 356490
ID = 6006
pos = 1,5
postype = p1
scale  = 0.25,0.25
sprpriority  = 5
ownpal = 1
ontop = 1

;-------------------------------------------------------------------------------
; clones de sombra ataques varios

;[State 0, Helper]
;type = Helper
;triggerall = alive
;triggerall= numhelper(2030)=0
;trigger1= life <= (LifeMax/3)
;helpertype = normal
;name = "chacra rojo"
;ID = 2030
;stateno = 2030
;pos = 0,0
;postype = p1
;ownpal = 1
;supermovetime = 10000
;pausemovetime = 10000

;[State 0, Helper]
;type = Helper
;triggerall = alive
;triggerall= numhelper(2031)=0
;trigger1= life <= (LifeMax/3)
;helpertype = normal
;name = "chacra rojo2"
;ID = 2031
;stateno = 2031
;pos = 0,0
;postype = p1
;supermovetime = 10000
;pausemovetime = 10000


[State 0, Helper]
type = Helper
Triggerall = var(0) = 0
triggerall = stateno != [1000,4999]
triggerall = enemy,pos y <= -40
triggerall = p2movetype = H
triggerall= enemy,vel y < 0
triggerall= numhelper(1030)=0
triggerall= pos y >= -10
trigger1=Command="a"
trigger2=Command="x"
helpertype = player
name = "clon de sombra"
ID = 1030
stateno = 1030
pos = -40,-70
postype = p2
facing = 1
ownpal = 1

;[State 830,Poweradd]
;type = Poweradd
;Triggerall = var(0) = 1
;trigger1 = Time >= 12
;value = 1
;-----------------------------------------------------------------------------

[State -3,saltar]
type=PlaySnd
triggerall=Time=1
trigger1=stateno=40
value=40,0

[State -3,aterrizar]
type=PlaySnd
triggerall=Time=1
trigger1=stateno=52
value=52,0






















